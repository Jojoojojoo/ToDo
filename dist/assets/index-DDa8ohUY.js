var Mm=Object.defineProperty;var Cc=t=>{throw TypeError(t)};var Bm=(t,e,r)=>e in t?Mm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Tc=(t,e,r)=>Bm(t,typeof e!="symbol"?e+"":e,r),ya=(t,e,r)=>e.has(t)||Cc("Cannot "+r);var _=(t,e,r)=>(ya(t,e,"read from private field"),r?r.call(t):e.get(t)),I=(t,e,r)=>e.has(t)?Cc("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),R=(t,e,r,n)=>(ya(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),B=(t,e,r)=>(ya(t,e,"access private method"),r);var Ai=(t,e,r,n)=>({set _(s){R(t,e,s,r)},get _(){return _(t,e,n)}});function zm(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function qm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zh={exports:{}},Go={},qh={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Si=Symbol.for("react.element"),Wm=Symbol.for("react.portal"),Km=Symbol.for("react.fragment"),Vm=Symbol.for("react.strict_mode"),Hm=Symbol.for("react.profiler"),Qm=Symbol.for("react.provider"),Gm=Symbol.for("react.context"),Jm=Symbol.for("react.forward_ref"),Ym=Symbol.for("react.suspense"),Xm=Symbol.for("react.memo"),Zm=Symbol.for("react.lazy"),Pc=Symbol.iterator;function eg(t){return t===null||typeof t!="object"?null:(t=Pc&&t[Pc]||t["@@iterator"],typeof t=="function"?t:null)}var Wh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kh=Object.assign,Vh={};function us(t,e,r){this.props=t,this.context=e,this.refs=Vh,this.updater=r||Wh}us.prototype.isReactComponent={};us.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};us.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Hh(){}Hh.prototype=us.prototype;function wu(t,e,r){this.props=t,this.context=e,this.refs=Vh,this.updater=r||Wh}var _u=wu.prototype=new Hh;_u.constructor=wu;Kh(_u,us.prototype);_u.isPureReactComponent=!0;var Oc=Array.isArray,Qh=Object.prototype.hasOwnProperty,Su={current:null},Gh={key:!0,ref:!0,__self:!0,__source:!0};function Jh(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Qh.call(e,n)&&!Gh.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Si,type:t,key:i,ref:o,props:s,_owner:Su.current}}function tg(t,e){return{$$typeof:Si,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ku(t){return typeof t=="object"&&t!==null&&t.$$typeof===Si}function rg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Rc=/\/+/g;function va(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rg(""+t.key):e.toString(36)}function so(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Si:case Wm:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+va(o,0):n,Oc(s)?(r="",t!=null&&(r=t.replace(Rc,"$&/")+"/"),so(s,e,r,"",function(u){return u})):s!=null&&(ku(s)&&(s=tg(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Rc,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Oc(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+va(i,a);o+=so(i,e,r,l,s)}else if(l=eg(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+va(i,a++),o+=so(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ni(t,e,r){if(t==null)return t;var n=[],s=0;return so(t,n,"","",function(i){return e.call(r,i,s++)}),n}function ng(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ne={current:null},io={transition:null},sg={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:io,ReactCurrentOwner:Su};function Yh(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:Ni,forEach:function(t,e,r){Ni(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ni(t,function(){e++}),e},toArray:function(t){return Ni(t,function(e){return e})||[]},only:function(t){if(!ku(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};z.Component=us;z.Fragment=Km;z.Profiler=Hm;z.PureComponent=wu;z.StrictMode=Vm;z.Suspense=Ym;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sg;z.act=Yh;z.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Kh({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Su.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Qh.call(e,l)&&!Gh.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Si,type:t.type,key:s,ref:i,props:n,_owner:o}};z.createContext=function(t){return t={$$typeof:Gm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Qm,_context:t},t.Consumer=t};z.createElement=Jh;z.createFactory=function(t){var e=Jh.bind(null,t);return e.type=t,e};z.createRef=function(){return{current:null}};z.forwardRef=function(t){return{$$typeof:Jm,render:t}};z.isValidElement=ku;z.lazy=function(t){return{$$typeof:Zm,_payload:{_status:-1,_result:t},_init:ng}};z.memo=function(t,e){return{$$typeof:Xm,type:t,compare:e===void 0?null:e}};z.startTransition=function(t){var e=io.transition;io.transition={};try{t()}finally{io.transition=e}};z.unstable_act=Yh;z.useCallback=function(t,e){return Ne.current.useCallback(t,e)};z.useContext=function(t){return Ne.current.useContext(t)};z.useDebugValue=function(){};z.useDeferredValue=function(t){return Ne.current.useDeferredValue(t)};z.useEffect=function(t,e){return Ne.current.useEffect(t,e)};z.useId=function(){return Ne.current.useId()};z.useImperativeHandle=function(t,e,r){return Ne.current.useImperativeHandle(t,e,r)};z.useInsertionEffect=function(t,e){return Ne.current.useInsertionEffect(t,e)};z.useLayoutEffect=function(t,e){return Ne.current.useLayoutEffect(t,e)};z.useMemo=function(t,e){return Ne.current.useMemo(t,e)};z.useReducer=function(t,e,r){return Ne.current.useReducer(t,e,r)};z.useRef=function(t){return Ne.current.useRef(t)};z.useState=function(t){return Ne.current.useState(t)};z.useSyncExternalStore=function(t,e,r){return Ne.current.useSyncExternalStore(t,e,r)};z.useTransition=function(){return Ne.current.useTransition()};z.version="18.3.1";qh.exports=z;var E=qh.exports;const Xh=qm(E),ig=zm({__proto__:null,default:Xh},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og=E,ag=Symbol.for("react.element"),lg=Symbol.for("react.fragment"),ug=Object.prototype.hasOwnProperty,cg=og.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dg={key:!0,ref:!0,__self:!0,__source:!0};function Zh(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)ug.call(e,n)&&!dg.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:ag,type:t,key:i,ref:o,props:s,_owner:cg.current}}Go.Fragment=lg;Go.jsx=Zh;Go.jsxs=Zh;zh.exports=Go;var y=zh.exports,Xa={},ef={exports:{}},Qe={},tf={exports:{}},rf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,U){var $=O.length;O.push(U);e:for(;0<$;){var oe=$-1>>>1,me=O[oe];if(0<s(me,U))O[oe]=U,O[$]=me,$=oe;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var U=O[0],$=O.pop();if($!==U){O[0]=$;e:for(var oe=0,me=O.length,Ri=me>>>1;oe<Ri;){var Ar=2*(oe+1)-1,ga=O[Ar],Nr=Ar+1,ji=O[Nr];if(0>s(ga,$))Nr<me&&0>s(ji,ga)?(O[oe]=ji,O[Nr]=$,oe=Nr):(O[oe]=ga,O[Ar]=$,oe=Ar);else if(Nr<me&&0>s(ji,$))O[oe]=ji,O[Nr]=$,oe=Nr;else break e}}return U}function s(O,U){var $=O.sortIndex-U.sortIndex;return $!==0?$:O.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,m=!1,v=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(O){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=O)n(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=r(u)}}function S(O){if(w=!1,g(O),!v)if(r(l)!==null)v=!0,gs(b);else{var U=r(u);U!==null&&M(S,U.startTime-O)}}function b(O,U){v=!1,w&&(w=!1,f(C),C=-1),m=!0;var $=h;try{for(g(U),d=r(l);d!==null&&(!(d.expirationTime>U)||O&&!Q());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,h=d.priorityLevel;var me=oe(d.expirationTime<=U);U=t.unstable_now(),typeof me=="function"?d.callback=me:d===r(l)&&n(l),g(U)}else n(l);d=r(l)}if(d!==null)var Ri=!0;else{var Ar=r(u);Ar!==null&&M(S,Ar.startTime-U),Ri=!1}return Ri}finally{d=null,h=$,m=!1}}var x=!1,P=null,C=-1,L=5,N=-1;function Q(){return!(t.unstable_now()-N<L)}function Je(){if(P!==null){var O=t.unstable_now();N=O;var U=!0;try{U=P(!0,O)}finally{U?Ye():(x=!1,P=null)}}else x=!1}var Ye;if(typeof p=="function")Ye=function(){p(Je)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,Rt=Ot.port2;Ot.port1.onmessage=Je,Ye=function(){Rt.postMessage(null)}}else Ye=function(){k(Je,0)};function gs(O){P=O,x||(x=!0,Ye())}function M(O,U){C=k(function(){O(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,gs(b))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var $=h;h=U;try{return O()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var $=h;h=O;try{return U()}finally{h=$}},t.unstable_scheduleCallback=function(O,U,$){var oe=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?oe+$:oe):$=oe,O){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=$+me,O={id:c++,callback:U,priorityLevel:O,startTime:$,expirationTime:me,sortIndex:-1},$>oe?(O.sortIndex=$,e(u,O),r(l)===null&&O===r(u)&&(w?(f(C),C=-1):w=!0,M(S,$-oe))):(O.sortIndex=me,e(l,O),v||m||(v=!0,gs(b))),O},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(O){var U=h;return function(){var $=h;h=U;try{return O.apply(this,arguments)}finally{h=$}}}})(rf);tf.exports=rf;var hg=tf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg=E,He=hg;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nf=new Set,qs={};function dn(t,e){rs(t,e),rs(t+"Capture",e)}function rs(t,e){for(qs[t]=e,t=0;t<e.length;t++)nf.add(e[t])}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Za=Object.prototype.hasOwnProperty,pg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jc={},Ac={};function mg(t){return Za.call(Ac,t)?!0:Za.call(jc,t)?!1:pg.test(t)?Ac[t]=!0:(jc[t]=!0,!1)}function gg(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yg(t,e,r,n){if(e===null||typeof e>"u"||gg(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ie(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ee[t]=new Ie(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ee[e]=new Ie(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ee[t]=new Ie(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ee[t]=new Ie(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ee[t]=new Ie(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ee[t]=new Ie(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ee[t]=new Ie(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ee[t]=new Ie(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ee[t]=new Ie(t,5,!1,t.toLowerCase(),null,!1,!1)});var Eu=/[\-:]([a-z])/g;function bu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Eu,bu);Ee[e]=new Ie(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Eu,bu);Ee[e]=new Ie(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Eu,bu);Ee[e]=new Ie(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ee[t]=new Ie(t,1,!1,t.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ee[t]=new Ie(t,1,!1,t.toLowerCase(),null,!0,!0)});function xu(t,e,r,n){var s=Ee.hasOwnProperty(e)?Ee[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yg(e,r,s,n)&&(r=null),n||s===null?mg(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ht=fg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ii=Symbol.for("react.element"),bn=Symbol.for("react.portal"),xn=Symbol.for("react.fragment"),Cu=Symbol.for("react.strict_mode"),el=Symbol.for("react.profiler"),sf=Symbol.for("react.provider"),of=Symbol.for("react.context"),Tu=Symbol.for("react.forward_ref"),tl=Symbol.for("react.suspense"),rl=Symbol.for("react.suspense_list"),Pu=Symbol.for("react.memo"),Xt=Symbol.for("react.lazy"),af=Symbol.for("react.offscreen"),Nc=Symbol.iterator;function ys(t){return t===null||typeof t!="object"?null:(t=Nc&&t[Nc]||t["@@iterator"],typeof t=="function"?t:null)}var re=Object.assign,wa;function Cs(t){if(wa===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);wa=e&&e[1]||""}return`
`+wa+t}var _a=!1;function Sa(t,e){if(!t||_a)return"";_a=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{_a=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Cs(t):""}function vg(t){switch(t.tag){case 5:return Cs(t.type);case 16:return Cs("Lazy");case 13:return Cs("Suspense");case 19:return Cs("SuspenseList");case 0:case 2:case 15:return t=Sa(t.type,!1),t;case 11:return t=Sa(t.type.render,!1),t;case 1:return t=Sa(t.type,!0),t;default:return""}}function nl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xn:return"Fragment";case bn:return"Portal";case el:return"Profiler";case Cu:return"StrictMode";case tl:return"Suspense";case rl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case of:return(t.displayName||"Context")+".Consumer";case sf:return(t._context.displayName||"Context")+".Provider";case Tu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pu:return e=t.displayName||null,e!==null?e:nl(t.type)||"Memo";case Xt:e=t._payload,t=t._init;try{return nl(t(e))}catch{}}return null}function wg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nl(e);case 8:return e===Cu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _g(t){var e=lf(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Li(t){t._valueTracker||(t._valueTracker=_g(t))}function uf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=lf(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function wo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sl(t,e){var r=e.checked;return re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Ic(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Cr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cf(t,e){e=e.checked,e!=null&&xu(t,"checked",e,!1)}function il(t,e){cf(t,e);var r=Cr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ol(t,e.type,r):e.hasOwnProperty("defaultValue")&&ol(t,e.type,Cr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Lc(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ol(t,e,r){(e!=="number"||wo(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ts=Array.isArray;function $n(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Cr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function al(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Uc(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(T(92));if(Ts(r)){if(1<r.length)throw Error(T(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Cr(r)}}function df(t,e){var r=Cr(e.value),n=Cr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function $c(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ll(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ui,ff=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ui=Ui||document.createElement("div"),Ui.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ui.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ws(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var As={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sg=["Webkit","ms","Moz","O"];Object.keys(As).forEach(function(t){Sg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),As[e]=As[t]})});function pf(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||As.hasOwnProperty(t)&&As[t]?(""+e).trim():e+"px"}function mf(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=pf(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var kg=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ul(t,e){if(e){if(kg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function cl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dl=null;function Ou(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hl=null,Dn=null,Fn=null;function Dc(t){if(t=bi(t)){if(typeof hl!="function")throw Error(T(280));var e=t.stateNode;e&&(e=ea(e),hl(t.stateNode,t.type,e))}}function gf(t){Dn?Fn?Fn.push(t):Fn=[t]:Dn=t}function yf(){if(Dn){var t=Dn,e=Fn;if(Fn=Dn=null,Dc(t),e)for(t=0;t<e.length;t++)Dc(e[t])}}function vf(t,e){return t(e)}function wf(){}var ka=!1;function _f(t,e,r){if(ka)return t(e,r);ka=!0;try{return vf(t,e,r)}finally{ka=!1,(Dn!==null||Fn!==null)&&(wf(),yf())}}function Ks(t,e){var r=t.stateNode;if(r===null)return null;var n=ea(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(T(231,e,typeof r));return r}var fl=!1;if(qt)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){fl=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{fl=!1}function Eg(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Ns=!1,_o=null,So=!1,pl=null,bg={onError:function(t){Ns=!0,_o=t}};function xg(t,e,r,n,s,i,o,a,l){Ns=!1,_o=null,Eg.apply(bg,arguments)}function Cg(t,e,r,n,s,i,o,a,l){if(xg.apply(this,arguments),Ns){if(Ns){var u=_o;Ns=!1,_o=null}else throw Error(T(198));So||(So=!0,pl=u)}}function hn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Sf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fc(t){if(hn(t)!==t)throw Error(T(188))}function Tg(t){var e=t.alternate;if(!e){if(e=hn(t),e===null)throw Error(T(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Fc(s),t;if(i===n)return Fc(s),e;i=i.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?t:e}function kf(t){return t=Tg(t),t!==null?Ef(t):null}function Ef(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ef(t);if(e!==null)return e;t=t.sibling}return null}var bf=He.unstable_scheduleCallback,Mc=He.unstable_cancelCallback,Pg=He.unstable_shouldYield,Og=He.unstable_requestPaint,ae=He.unstable_now,Rg=He.unstable_getCurrentPriorityLevel,Ru=He.unstable_ImmediatePriority,xf=He.unstable_UserBlockingPriority,ko=He.unstable_NormalPriority,jg=He.unstable_LowPriority,Cf=He.unstable_IdlePriority,Jo=null,Ct=null;function Ag(t){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Jo,t,void 0,(t.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:Lg,Ng=Math.log,Ig=Math.LN2;function Lg(t){return t>>>=0,t===0?32:31-(Ng(t)/Ig|0)|0}var $i=64,Di=4194304;function Ps(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Eo(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Ps(a):(i&=o,i!==0&&(n=Ps(i)))}else o=r&~s,o!==0?n=Ps(o):i!==0&&(n=Ps(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-gt(e),s=1<<r,n|=t[r],e&=~s;return n}function Ug(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $g(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-gt(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Ug(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ml(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tf(){var t=$i;return $i<<=1,!($i&4194240)&&($i=64),t}function Ea(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ki(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gt(e),t[e]=r}function Dg(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-gt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function ju(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-gt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var H=0;function Pf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Of,Au,Rf,jf,Af,gl=!1,Fi=[],gr=null,yr=null,vr=null,Vs=new Map,Hs=new Map,tr=[],Fg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bc(t,e){switch(t){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":Vs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hs.delete(e.pointerId)}}function ws(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=bi(e),e!==null&&Au(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Mg(t,e,r,n,s){switch(e){case"focusin":return gr=ws(gr,t,e,r,n,s),!0;case"dragenter":return yr=ws(yr,t,e,r,n,s),!0;case"mouseover":return vr=ws(vr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Vs.set(i,ws(Vs.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Hs.set(i,ws(Hs.get(i)||null,t,e,r,n,s)),!0}return!1}function Nf(t){var e=Br(t.target);if(e!==null){var r=hn(e);if(r!==null){if(e=r.tag,e===13){if(e=Sf(r),e!==null){t.blockedOn=e,Af(t.priority,function(){Rf(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=yl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);dl=n,r.target.dispatchEvent(n),dl=null}else return e=bi(r),e!==null&&Au(e),t.blockedOn=r,!1;e.shift()}return!0}function zc(t,e,r){oo(t)&&r.delete(e)}function Bg(){gl=!1,gr!==null&&oo(gr)&&(gr=null),yr!==null&&oo(yr)&&(yr=null),vr!==null&&oo(vr)&&(vr=null),Vs.forEach(zc),Hs.forEach(zc)}function _s(t,e){t.blockedOn===e&&(t.blockedOn=null,gl||(gl=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,Bg)))}function Qs(t){function e(s){return _s(s,t)}if(0<Fi.length){_s(Fi[0],t);for(var r=1;r<Fi.length;r++){var n=Fi[r];n.blockedOn===t&&(n.blockedOn=null)}}for(gr!==null&&_s(gr,t),yr!==null&&_s(yr,t),vr!==null&&_s(vr,t),Vs.forEach(e),Hs.forEach(e),r=0;r<tr.length;r++)n=tr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<tr.length&&(r=tr[0],r.blockedOn===null);)Nf(r),r.blockedOn===null&&tr.shift()}var Mn=Ht.ReactCurrentBatchConfig,bo=!0;function zg(t,e,r,n){var s=H,i=Mn.transition;Mn.transition=null;try{H=1,Nu(t,e,r,n)}finally{H=s,Mn.transition=i}}function qg(t,e,r,n){var s=H,i=Mn.transition;Mn.transition=null;try{H=4,Nu(t,e,r,n)}finally{H=s,Mn.transition=i}}function Nu(t,e,r,n){if(bo){var s=yl(t,e,r,n);if(s===null)Na(t,e,n,xo,r),Bc(t,n);else if(Mg(s,t,e,r,n))n.stopPropagation();else if(Bc(t,n),e&4&&-1<Fg.indexOf(t)){for(;s!==null;){var i=bi(s);if(i!==null&&Of(i),i=yl(t,e,r,n),i===null&&Na(t,e,n,xo,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Na(t,e,n,null,r)}}var xo=null;function yl(t,e,r,n){if(xo=null,t=Ou(n),t=Br(t),t!==null)if(e=hn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Sf(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xo=t,null}function If(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rg()){case Ru:return 1;case xf:return 4;case ko:case jg:return 16;case Cf:return 536870912;default:return 16}default:return 16}}var fr=null,Iu=null,ao=null;function Lf(){if(ao)return ao;var t,e=Iu,r=e.length,n,s="value"in fr?fr.value:fr.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return ao=s.slice(t,1<n?1-n:void 0)}function lo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Mi(){return!0}function qc(){return!1}function Ge(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Mi:qc,this.isPropagationStopped=qc,this}return re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),e}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lu=Ge(cs),Ei=re({},cs,{view:0,detail:0}),Wg=Ge(Ei),ba,xa,Ss,Yo=re({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ss&&(Ss&&t.type==="mousemove"?(ba=t.screenX-Ss.screenX,xa=t.screenY-Ss.screenY):xa=ba=0,Ss=t),ba)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),Wc=Ge(Yo),Kg=re({},Yo,{dataTransfer:0}),Vg=Ge(Kg),Hg=re({},Ei,{relatedTarget:0}),Ca=Ge(Hg),Qg=re({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Gg=Ge(Qg),Jg=re({},cs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yg=Ge(Jg),Xg=re({},cs,{data:0}),Kc=Ge(Xg),Zg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ty={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ry(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ty[t])?!!e[t]:!1}function Uu(){return ry}var ny=re({},Ei,{key:function(t){if(t.key){var e=Zg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=lo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ey[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uu,charCode:function(t){return t.type==="keypress"?lo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sy=Ge(ny),iy=re({},Yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vc=Ge(iy),oy=re({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uu}),ay=Ge(oy),ly=re({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),uy=Ge(ly),cy=re({},Yo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dy=Ge(cy),hy=[9,13,27,32],$u=qt&&"CompositionEvent"in window,Is=null;qt&&"documentMode"in document&&(Is=document.documentMode);var fy=qt&&"TextEvent"in window&&!Is,Uf=qt&&(!$u||Is&&8<Is&&11>=Is),Hc=" ",Qc=!1;function $f(t,e){switch(t){case"keyup":return hy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Df(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cn=!1;function py(t,e){switch(t){case"compositionend":return Df(e);case"keypress":return e.which!==32?null:(Qc=!0,Hc);case"textInput":return t=e.data,t===Hc&&Qc?null:t;default:return null}}function my(t,e){if(Cn)return t==="compositionend"||!$u&&$f(t,e)?(t=Lf(),ao=Iu=fr=null,Cn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Uf&&e.locale!=="ko"?null:e.data;default:return null}}var gy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gy[t.type]:e==="textarea"}function Ff(t,e,r,n){gf(n),e=Co(e,"onChange"),0<e.length&&(r=new Lu("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ls=null,Gs=null;function yy(t){Jf(t,0)}function Xo(t){var e=On(t);if(uf(e))return t}function vy(t,e){if(t==="change")return e}var Mf=!1;if(qt){var Ta;if(qt){var Pa="oninput"in document;if(!Pa){var Jc=document.createElement("div");Jc.setAttribute("oninput","return;"),Pa=typeof Jc.oninput=="function"}Ta=Pa}else Ta=!1;Mf=Ta&&(!document.documentMode||9<document.documentMode)}function Yc(){Ls&&(Ls.detachEvent("onpropertychange",Bf),Gs=Ls=null)}function Bf(t){if(t.propertyName==="value"&&Xo(Gs)){var e=[];Ff(e,Gs,t,Ou(t)),_f(yy,e)}}function wy(t,e,r){t==="focusin"?(Yc(),Ls=e,Gs=r,Ls.attachEvent("onpropertychange",Bf)):t==="focusout"&&Yc()}function _y(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xo(Gs)}function Sy(t,e){if(t==="click")return Xo(e)}function ky(t,e){if(t==="input"||t==="change")return Xo(e)}function Ey(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vt=typeof Object.is=="function"?Object.is:Ey;function Js(t,e){if(vt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Za.call(e,s)||!vt(t[s],e[s]))return!1}return!0}function Xc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zc(t,e){var r=Xc(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xc(r)}}function zf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qf(){for(var t=window,e=wo();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=wo(t.document)}return e}function Du(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function by(t){var e=qf(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&zf(r.ownerDocument.documentElement,r)){if(n!==null&&Du(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Zc(r,i);var o=Zc(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xy=qt&&"documentMode"in document&&11>=document.documentMode,Tn=null,vl=null,Us=null,wl=!1;function ed(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wl||Tn==null||Tn!==wo(n)||(n=Tn,"selectionStart"in n&&Du(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Us&&Js(Us,n)||(Us=n,n=Co(vl,"onSelect"),0<n.length&&(e=new Lu("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Tn)))}function Bi(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Pn={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionend:Bi("Transition","TransitionEnd")},Oa={},Wf={};qt&&(Wf=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function Zo(t){if(Oa[t])return Oa[t];if(!Pn[t])return t;var e=Pn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Wf)return Oa[t]=e[r];return t}var Kf=Zo("animationend"),Vf=Zo("animationiteration"),Hf=Zo("animationstart"),Qf=Zo("transitionend"),Gf=new Map,td="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(t,e){Gf.set(t,e),dn(e,[t])}for(var Ra=0;Ra<td.length;Ra++){var ja=td[Ra],Cy=ja.toLowerCase(),Ty=ja[0].toUpperCase()+ja.slice(1);Pr(Cy,"on"+Ty)}Pr(Kf,"onAnimationEnd");Pr(Vf,"onAnimationIteration");Pr(Hf,"onAnimationStart");Pr("dblclick","onDoubleClick");Pr("focusin","onFocus");Pr("focusout","onBlur");Pr(Qf,"onTransitionEnd");rs("onMouseEnter",["mouseout","mouseover"]);rs("onMouseLeave",["mouseout","mouseover"]);rs("onPointerEnter",["pointerout","pointerover"]);rs("onPointerLeave",["pointerout","pointerover"]);dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dn("onBeforeInput",["compositionend","keypress","textInput","paste"]);dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Py=new Set("cancel close invalid load scroll toggle".split(" ").concat(Os));function rd(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Cg(n,e,void 0,t),t.currentTarget=null}function Jf(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;rd(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;rd(s,a,u),i=l}}}if(So)throw t=pl,So=!1,pl=null,t}function Y(t,e){var r=e[bl];r===void 0&&(r=e[bl]=new Set);var n=t+"__bubble";r.has(n)||(Yf(e,t,2,!1),r.add(n))}function Aa(t,e,r){var n=0;e&&(n|=4),Yf(r,t,n,e)}var zi="_reactListening"+Math.random().toString(36).slice(2);function Ys(t){if(!t[zi]){t[zi]=!0,nf.forEach(function(r){r!=="selectionchange"&&(Py.has(r)||Aa(r,!1,t),Aa(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zi]||(e[zi]=!0,Aa("selectionchange",!1,e))}}function Yf(t,e,r,n){switch(If(e)){case 1:var s=zg;break;case 4:s=qg;break;default:s=Nu}r=s.bind(null,e,r,t),s=void 0,!fl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Na(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Br(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}_f(function(){var u=i,c=Ou(r),d=[];e:{var h=Gf.get(t);if(h!==void 0){var m=Lu,v=t;switch(t){case"keypress":if(lo(r)===0)break e;case"keydown":case"keyup":m=sy;break;case"focusin":v="focus",m=Ca;break;case"focusout":v="blur",m=Ca;break;case"beforeblur":case"afterblur":m=Ca;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Wc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Vg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ay;break;case Kf:case Vf:case Hf:m=Gg;break;case Qf:m=uy;break;case"scroll":m=Wg;break;case"wheel":m=dy;break;case"copy":case"cut":case"paste":m=Yg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Vc}var w=(e&4)!==0,k=!w&&t==="scroll",f=w?h!==null?h+"Capture":null:h;w=[];for(var p=u,g;p!==null;){g=p;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,f!==null&&(S=Ks(p,f),S!=null&&w.push(Xs(p,S,g)))),k)break;p=p.return}0<w.length&&(h=new m(h,v,null,r,c),d.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&r!==dl&&(v=r.relatedTarget||r.fromElement)&&(Br(v)||v[Wt]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?Br(v):null,v!==null&&(k=hn(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(w=Wc,S="onMouseLeave",f="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=Vc,S="onPointerLeave",f="onPointerEnter",p="pointer"),k=m==null?h:On(m),g=v==null?h:On(v),h=new w(S,p+"leave",m,r,c),h.target=k,h.relatedTarget=g,S=null,Br(c)===u&&(w=new w(f,p+"enter",v,r,c),w.target=g,w.relatedTarget=k,S=w),k=S,m&&v)t:{for(w=m,f=v,p=0,g=w;g;g=pn(g))p++;for(g=0,S=f;S;S=pn(S))g++;for(;0<p-g;)w=pn(w),p--;for(;0<g-p;)f=pn(f),g--;for(;p--;){if(w===f||f!==null&&w===f.alternate)break t;w=pn(w),f=pn(f)}w=null}else w=null;m!==null&&nd(d,h,m,w,!1),v!==null&&k!==null&&nd(d,k,v,w,!0)}}e:{if(h=u?On(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var b=vy;else if(Gc(h))if(Mf)b=ky;else{b=_y;var x=wy}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=Sy);if(b&&(b=b(t,u))){Ff(d,b,r,c);break e}x&&x(t,h,u),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&ol(h,"number",h.value)}switch(x=u?On(u):window,t){case"focusin":(Gc(x)||x.contentEditable==="true")&&(Tn=x,vl=u,Us=null);break;case"focusout":Us=vl=Tn=null;break;case"mousedown":wl=!0;break;case"contextmenu":case"mouseup":case"dragend":wl=!1,ed(d,r,c);break;case"selectionchange":if(xy)break;case"keydown":case"keyup":ed(d,r,c)}var P;if($u)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Cn?$f(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Uf&&r.locale!=="ko"&&(Cn||C!=="onCompositionStart"?C==="onCompositionEnd"&&Cn&&(P=Lf()):(fr=c,Iu="value"in fr?fr.value:fr.textContent,Cn=!0)),x=Co(u,C),0<x.length&&(C=new Kc(C,t,null,r,c),d.push({event:C,listeners:x}),P?C.data=P:(P=Df(r),P!==null&&(C.data=P)))),(P=fy?py(t,r):my(t,r))&&(u=Co(u,"onBeforeInput"),0<u.length&&(c=new Kc("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=P))}Jf(d,e)})}function Xs(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Co(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ks(t,r),i!=null&&n.unshift(Xs(t,i,s)),i=Ks(t,e),i!=null&&n.push(Xs(t,i,s))),t=t.return}return n}function pn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nd(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=Ks(r,i),l!=null&&o.unshift(Xs(r,l,a))):s||(l=Ks(r,i),l!=null&&o.push(Xs(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Oy=/\r\n?/g,Ry=/\u0000|\uFFFD/g;function sd(t){return(typeof t=="string"?t:""+t).replace(Oy,`
`).replace(Ry,"")}function qi(t,e,r){if(e=sd(e),sd(t)!==e&&r)throw Error(T(425))}function To(){}var _l=null,Sl=null;function kl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var El=typeof setTimeout=="function"?setTimeout:void 0,jy=typeof clearTimeout=="function"?clearTimeout:void 0,id=typeof Promise=="function"?Promise:void 0,Ay=typeof queueMicrotask=="function"?queueMicrotask:typeof id<"u"?function(t){return id.resolve(null).then(t).catch(Ny)}:El;function Ny(t){setTimeout(function(){throw t})}function Ia(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Qs(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Qs(e)}function wr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function od(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ds=Math.random().toString(36).slice(2),xt="__reactFiber$"+ds,Zs="__reactProps$"+ds,Wt="__reactContainer$"+ds,bl="__reactEvents$"+ds,Iy="__reactListeners$"+ds,Ly="__reactHandles$"+ds;function Br(t){var e=t[xt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Wt]||r[xt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=od(t);t!==null;){if(r=t[xt])return r;t=od(t)}return e}t=r,r=t.parentNode}return null}function bi(t){return t=t[xt]||t[Wt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function On(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function ea(t){return t[Zs]||null}var xl=[],Rn=-1;function Or(t){return{current:t}}function X(t){0>Rn||(t.current=xl[Rn],xl[Rn]=null,Rn--)}function J(t,e){Rn++,xl[Rn]=t.current,t.current=e}var Tr={},Pe=Or(Tr),Fe=Or(!1),nn=Tr;function ns(t,e){var r=t.type.contextTypes;if(!r)return Tr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Me(t){return t=t.childContextTypes,t!=null}function Po(){X(Fe),X(Pe)}function ad(t,e,r){if(Pe.current!==Tr)throw Error(T(168));J(Pe,e),J(Fe,r)}function Xf(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(T(108,wg(t)||"Unknown",s));return re({},r,n)}function Oo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tr,nn=Pe.current,J(Pe,t),J(Fe,Fe.current),!0}function ld(t,e,r){var n=t.stateNode;if(!n)throw Error(T(169));r?(t=Xf(t,e,nn),n.__reactInternalMemoizedMergedChildContext=t,X(Fe),X(Pe),J(Pe,t)):X(Fe),J(Fe,r)}var It=null,ta=!1,La=!1;function Zf(t){It===null?It=[t]:It.push(t)}function Uy(t){ta=!0,Zf(t)}function Rr(){if(!La&&It!==null){La=!0;var t=0,e=H;try{var r=It;for(H=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}It=null,ta=!1}catch(s){throw It!==null&&(It=It.slice(t+1)),bf(Ru,Rr),s}finally{H=e,La=!1}}return null}var jn=[],An=0,Ro=null,jo=0,et=[],tt=0,sn=null,Ft=1,Mt="";function Ur(t,e){jn[An++]=jo,jn[An++]=Ro,Ro=t,jo=e}function ep(t,e,r){et[tt++]=Ft,et[tt++]=Mt,et[tt++]=sn,sn=t;var n=Ft;t=Mt;var s=32-gt(n)-1;n&=~(1<<s),r+=1;var i=32-gt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Ft=1<<32-gt(e)+s|r<<s|n,Mt=i+t}else Ft=1<<i|r<<s|n,Mt=t}function Fu(t){t.return!==null&&(Ur(t,1),ep(t,1,0))}function Mu(t){for(;t===Ro;)Ro=jn[--An],jn[An]=null,jo=jn[--An],jn[An]=null;for(;t===sn;)sn=et[--tt],et[tt]=null,Mt=et[--tt],et[tt]=null,Ft=et[--tt],et[tt]=null}var Ve=null,Ke=null,Z=!1,mt=null;function tp(t,e){var r=rt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ud(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ve=t,Ke=wr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ve=t,Ke=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=sn!==null?{id:Ft,overflow:Mt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=rt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ve=t,Ke=null,!0):!1;default:return!1}}function Cl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tl(t){if(Z){var e=Ke;if(e){var r=e;if(!ud(t,e)){if(Cl(t))throw Error(T(418));e=wr(r.nextSibling);var n=Ve;e&&ud(t,e)?tp(n,r):(t.flags=t.flags&-4097|2,Z=!1,Ve=t)}}else{if(Cl(t))throw Error(T(418));t.flags=t.flags&-4097|2,Z=!1,Ve=t}}}function cd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ve=t}function Wi(t){if(t!==Ve)return!1;if(!Z)return cd(t),Z=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kl(t.type,t.memoizedProps)),e&&(e=Ke)){if(Cl(t))throw rp(),Error(T(418));for(;e;)tp(t,e),e=wr(e.nextSibling)}if(cd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ke=wr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ke=null}}else Ke=Ve?wr(t.stateNode.nextSibling):null;return!0}function rp(){for(var t=Ke;t;)t=wr(t.nextSibling)}function ss(){Ke=Ve=null,Z=!1}function Bu(t){mt===null?mt=[t]:mt.push(t)}var $y=Ht.ReactCurrentBatchConfig;function ks(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,t))}return t}function Ki(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dd(t){var e=t._init;return e(t._payload)}function np(t){function e(f,p){if(t){var g=f.deletions;g===null?(f.deletions=[p],f.flags|=16):g.push(p)}}function r(f,p){if(!t)return null;for(;p!==null;)e(f,p),p=p.sibling;return null}function n(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function s(f,p){return f=Er(f,p),f.index=0,f.sibling=null,f}function i(f,p,g){return f.index=g,t?(g=f.alternate,g!==null?(g=g.index,g<p?(f.flags|=2,p):g):(f.flags|=2,p)):(f.flags|=1048576,p)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function a(f,p,g,S){return p===null||p.tag!==6?(p=za(g,f.mode,S),p.return=f,p):(p=s(p,g),p.return=f,p)}function l(f,p,g,S){var b=g.type;return b===xn?c(f,p,g.props.children,S,g.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Xt&&dd(b)===p.type)?(S=s(p,g.props),S.ref=ks(f,p,g),S.return=f,S):(S=go(g.type,g.key,g.props,null,f.mode,S),S.ref=ks(f,p,g),S.return=f,S)}function u(f,p,g,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=qa(g,f.mode,S),p.return=f,p):(p=s(p,g.children||[]),p.return=f,p)}function c(f,p,g,S,b){return p===null||p.tag!==7?(p=rn(g,f.mode,S,b),p.return=f,p):(p=s(p,g),p.return=f,p)}function d(f,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=za(""+p,f.mode,g),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ii:return g=go(p.type,p.key,p.props,null,f.mode,g),g.ref=ks(f,null,p),g.return=f,g;case bn:return p=qa(p,f.mode,g),p.return=f,p;case Xt:var S=p._init;return d(f,S(p._payload),g)}if(Ts(p)||ys(p))return p=rn(p,f.mode,g,null),p.return=f,p;Ki(f,p)}return null}function h(f,p,g,S){var b=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return b!==null?null:a(f,p,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ii:return g.key===b?l(f,p,g,S):null;case bn:return g.key===b?u(f,p,g,S):null;case Xt:return b=g._init,h(f,p,b(g._payload),S)}if(Ts(g)||ys(g))return b!==null?null:c(f,p,g,S,null);Ki(f,g)}return null}function m(f,p,g,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return f=f.get(g)||null,a(p,f,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ii:return f=f.get(S.key===null?g:S.key)||null,l(p,f,S,b);case bn:return f=f.get(S.key===null?g:S.key)||null,u(p,f,S,b);case Xt:var x=S._init;return m(f,p,g,x(S._payload),b)}if(Ts(S)||ys(S))return f=f.get(g)||null,c(p,f,S,b,null);Ki(p,S)}return null}function v(f,p,g,S){for(var b=null,x=null,P=p,C=p=0,L=null;P!==null&&C<g.length;C++){P.index>C?(L=P,P=null):L=P.sibling;var N=h(f,P,g[C],S);if(N===null){P===null&&(P=L);break}t&&P&&N.alternate===null&&e(f,P),p=i(N,p,C),x===null?b=N:x.sibling=N,x=N,P=L}if(C===g.length)return r(f,P),Z&&Ur(f,C),b;if(P===null){for(;C<g.length;C++)P=d(f,g[C],S),P!==null&&(p=i(P,p,C),x===null?b=P:x.sibling=P,x=P);return Z&&Ur(f,C),b}for(P=n(f,P);C<g.length;C++)L=m(P,f,C,g[C],S),L!==null&&(t&&L.alternate!==null&&P.delete(L.key===null?C:L.key),p=i(L,p,C),x===null?b=L:x.sibling=L,x=L);return t&&P.forEach(function(Q){return e(f,Q)}),Z&&Ur(f,C),b}function w(f,p,g,S){var b=ys(g);if(typeof b!="function")throw Error(T(150));if(g=b.call(g),g==null)throw Error(T(151));for(var x=b=null,P=p,C=p=0,L=null,N=g.next();P!==null&&!N.done;C++,N=g.next()){P.index>C?(L=P,P=null):L=P.sibling;var Q=h(f,P,N.value,S);if(Q===null){P===null&&(P=L);break}t&&P&&Q.alternate===null&&e(f,P),p=i(Q,p,C),x===null?b=Q:x.sibling=Q,x=Q,P=L}if(N.done)return r(f,P),Z&&Ur(f,C),b;if(P===null){for(;!N.done;C++,N=g.next())N=d(f,N.value,S),N!==null&&(p=i(N,p,C),x===null?b=N:x.sibling=N,x=N);return Z&&Ur(f,C),b}for(P=n(f,P);!N.done;C++,N=g.next())N=m(P,f,C,N.value,S),N!==null&&(t&&N.alternate!==null&&P.delete(N.key===null?C:N.key),p=i(N,p,C),x===null?b=N:x.sibling=N,x=N);return t&&P.forEach(function(Je){return e(f,Je)}),Z&&Ur(f,C),b}function k(f,p,g,S){if(typeof g=="object"&&g!==null&&g.type===xn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ii:e:{for(var b=g.key,x=p;x!==null;){if(x.key===b){if(b=g.type,b===xn){if(x.tag===7){r(f,x.sibling),p=s(x,g.props.children),p.return=f,f=p;break e}}else if(x.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Xt&&dd(b)===x.type){r(f,x.sibling),p=s(x,g.props),p.ref=ks(f,x,g),p.return=f,f=p;break e}r(f,x);break}else e(f,x);x=x.sibling}g.type===xn?(p=rn(g.props.children,f.mode,S,g.key),p.return=f,f=p):(S=go(g.type,g.key,g.props,null,f.mode,S),S.ref=ks(f,p,g),S.return=f,f=S)}return o(f);case bn:e:{for(x=g.key;p!==null;){if(p.key===x)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){r(f,p.sibling),p=s(p,g.children||[]),p.return=f,f=p;break e}else{r(f,p);break}else e(f,p);p=p.sibling}p=qa(g,f.mode,S),p.return=f,f=p}return o(f);case Xt:return x=g._init,k(f,p,x(g._payload),S)}if(Ts(g))return v(f,p,g,S);if(ys(g))return w(f,p,g,S);Ki(f,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(r(f,p.sibling),p=s(p,g),p.return=f,f=p):(r(f,p),p=za(g,f.mode,S),p.return=f,f=p),o(f)):r(f,p)}return k}var is=np(!0),sp=np(!1),Ao=Or(null),No=null,Nn=null,zu=null;function qu(){zu=Nn=No=null}function Wu(t){var e=Ao.current;X(Ao),t._currentValue=e}function Pl(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Bn(t,e){No=t,zu=Nn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(De=!0),t.firstContext=null)}function st(t){var e=t._currentValue;if(zu!==t)if(t={context:t,memoizedValue:e,next:null},Nn===null){if(No===null)throw Error(T(308));Nn=t,No.dependencies={lanes:0,firstContext:t}}else Nn=Nn.next=t;return e}var zr=null;function Ku(t){zr===null?zr=[t]:zr.push(t)}function ip(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Ku(e)):(r.next=s.next,s.next=r),e.interleaved=r,Kt(t,n)}function Kt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Zt=!1;function Vu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function op(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _r(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,W&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Kt(t,r)}return s=n.interleaved,s===null?(e.next=e,Ku(n)):(e.next=s.next,s.next=e),n.interleaved=e,Kt(t,r)}function uo(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ju(t,r)}}function hd(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Io(t,e,r,n){var s=t.updateQueue;Zt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var h=a.lane,m=a.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(h=e,m=r,w.tag){case 1:if(v=w.payload,typeof v=="function"){d=v.call(m,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,h=typeof v=="function"?v.call(m,d,h):v,h==null)break e;d=re({},d,h);break e;case 2:Zt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);an|=o,t.lanes=o,t.memoizedState=d}}function fd(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var xi={},Tt=Or(xi),ei=Or(xi),ti=Or(xi);function qr(t){if(t===xi)throw Error(T(174));return t}function Hu(t,e){switch(J(ti,e),J(ei,t),J(Tt,xi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ll(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ll(e,t)}X(Tt),J(Tt,e)}function os(){X(Tt),X(ei),X(ti)}function ap(t){qr(ti.current);var e=qr(Tt.current),r=ll(e,t.type);e!==r&&(J(ei,t),J(Tt,r))}function Qu(t){ei.current===t&&(X(Tt),X(ei))}var ee=Or(0);function Lo(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ua=[];function Gu(){for(var t=0;t<Ua.length;t++)Ua[t]._workInProgressVersionPrimary=null;Ua.length=0}var co=Ht.ReactCurrentDispatcher,$a=Ht.ReactCurrentBatchConfig,on=0,te=null,he=null,ye=null,Uo=!1,$s=!1,ri=0,Dy=0;function be(){throw Error(T(321))}function Ju(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!vt(t[r],e[r]))return!1;return!0}function Yu(t,e,r,n,s,i){if(on=i,te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,co.current=t===null||t.memoizedState===null?zy:qy,t=r(n,s),$s){i=0;do{if($s=!1,ri=0,25<=i)throw Error(T(301));i+=1,ye=he=null,e.updateQueue=null,co.current=Wy,t=r(n,s)}while($s)}if(co.current=$o,e=he!==null&&he.next!==null,on=0,ye=he=te=null,Uo=!1,e)throw Error(T(300));return t}function Xu(){var t=ri!==0;return ri=0,t}function St(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?te.memoizedState=ye=t:ye=ye.next=t,ye}function it(){if(he===null){var t=te.alternate;t=t!==null?t.memoizedState:null}else t=he.next;var e=ye===null?te.memoizedState:ye.next;if(e!==null)ye=e,he=t;else{if(t===null)throw Error(T(310));he=t,t={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},ye===null?te.memoizedState=ye=t:ye=ye.next=t}return ye}function ni(t,e){return typeof e=="function"?e(t):e}function Da(t){var e=it(),r=e.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=t;var n=he,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((on&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,te.lanes|=c,an|=c}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,vt(n,e.memoizedState)||(De=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,te.lanes|=i,an|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Fa(t){var e=it(),r=e.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);vt(i,e.memoizedState)||(De=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function lp(){}function up(t,e){var r=te,n=it(),s=e(),i=!vt(n.memoizedState,s);if(i&&(n.memoizedState=s,De=!0),n=n.queue,Zu(hp.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ye!==null&&ye.memoizedState.tag&1){if(r.flags|=2048,si(9,dp.bind(null,r,n,s,e),void 0,null),ve===null)throw Error(T(349));on&30||cp(r,e,s)}return s}function cp(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=te.updateQueue,e===null?(e={lastEffect:null,stores:null},te.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function dp(t,e,r,n){e.value=r,e.getSnapshot=n,fp(e)&&pp(t)}function hp(t,e,r){return r(function(){fp(e)&&pp(t)})}function fp(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!vt(t,r)}catch{return!0}}function pp(t){var e=Kt(t,1);e!==null&&yt(e,t,1,-1)}function pd(t){var e=St();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:t},e.queue=t,t=t.dispatch=By.bind(null,te,t),[e.memoizedState,t]}function si(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=te.updateQueue,e===null?(e={lastEffect:null,stores:null},te.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function mp(){return it().memoizedState}function ho(t,e,r,n){var s=St();te.flags|=t,s.memoizedState=si(1|e,r,void 0,n===void 0?null:n)}function ra(t,e,r,n){var s=it();n=n===void 0?null:n;var i=void 0;if(he!==null){var o=he.memoizedState;if(i=o.destroy,n!==null&&Ju(n,o.deps)){s.memoizedState=si(e,r,i,n);return}}te.flags|=t,s.memoizedState=si(1|e,r,i,n)}function md(t,e){return ho(8390656,8,t,e)}function Zu(t,e){return ra(2048,8,t,e)}function gp(t,e){return ra(4,2,t,e)}function yp(t,e){return ra(4,4,t,e)}function vp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wp(t,e,r){return r=r!=null?r.concat([t]):null,ra(4,4,vp.bind(null,e,t),r)}function ec(){}function _p(t,e){var r=it();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ju(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Sp(t,e){var r=it();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ju(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function kp(t,e,r){return on&21?(vt(r,e)||(r=Tf(),te.lanes|=r,an|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,De=!0),t.memoizedState=r)}function Fy(t,e){var r=H;H=r!==0&&4>r?r:4,t(!0);var n=$a.transition;$a.transition={};try{t(!1),e()}finally{H=r,$a.transition=n}}function Ep(){return it().memoizedState}function My(t,e,r){var n=kr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},bp(t))xp(e,r);else if(r=ip(t,e,r,n),r!==null){var s=Ae();yt(r,t,n,s),Cp(r,e,n)}}function By(t,e,r){var n=kr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(bp(t))xp(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,vt(a,o)){var l=e.interleaved;l===null?(s.next=s,Ku(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=ip(t,e,s,n),r!==null&&(s=Ae(),yt(r,t,n,s),Cp(r,e,n))}}function bp(t){var e=t.alternate;return t===te||e!==null&&e===te}function xp(t,e){$s=Uo=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Cp(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ju(t,r)}}var $o={readContext:st,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},zy={readContext:st,useCallback:function(t,e){return St().memoizedState=[t,e===void 0?null:e],t},useContext:st,useEffect:md,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ho(4194308,4,vp.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ho(4194308,4,t,e)},useInsertionEffect:function(t,e){return ho(4,2,t,e)},useMemo:function(t,e){var r=St();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=St();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=My.bind(null,te,t),[n.memoizedState,t]},useRef:function(t){var e=St();return t={current:t},e.memoizedState=t},useState:pd,useDebugValue:ec,useDeferredValue:function(t){return St().memoizedState=t},useTransition:function(){var t=pd(!1),e=t[0];return t=Fy.bind(null,t[1]),St().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=te,s=St();if(Z){if(r===void 0)throw Error(T(407));r=r()}else{if(r=e(),ve===null)throw Error(T(349));on&30||cp(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,md(hp.bind(null,n,i,t),[t]),n.flags|=2048,si(9,dp.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=St(),e=ve.identifierPrefix;if(Z){var r=Mt,n=Ft;r=(n&~(1<<32-gt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ri++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Dy++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qy={readContext:st,useCallback:_p,useContext:st,useEffect:Zu,useImperativeHandle:wp,useInsertionEffect:gp,useLayoutEffect:yp,useMemo:Sp,useReducer:Da,useRef:mp,useState:function(){return Da(ni)},useDebugValue:ec,useDeferredValue:function(t){var e=it();return kp(e,he.memoizedState,t)},useTransition:function(){var t=Da(ni)[0],e=it().memoizedState;return[t,e]},useMutableSource:lp,useSyncExternalStore:up,useId:Ep,unstable_isNewReconciler:!1},Wy={readContext:st,useCallback:_p,useContext:st,useEffect:Zu,useImperativeHandle:wp,useInsertionEffect:gp,useLayoutEffect:yp,useMemo:Sp,useReducer:Fa,useRef:mp,useState:function(){return Fa(ni)},useDebugValue:ec,useDeferredValue:function(t){var e=it();return he===null?e.memoizedState=t:kp(e,he.memoizedState,t)},useTransition:function(){var t=Fa(ni)[0],e=it().memoizedState;return[t,e]},useMutableSource:lp,useSyncExternalStore:up,useId:Ep,unstable_isNewReconciler:!1};function ut(t,e){if(t&&t.defaultProps){e=re({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Ol(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:re({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var na={isMounted:function(t){return(t=t._reactInternals)?hn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ae(),s=kr(t),i=Bt(n,s);i.payload=e,r!=null&&(i.callback=r),e=_r(t,i,s),e!==null&&(yt(e,t,s,n),uo(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ae(),s=kr(t),i=Bt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=_r(t,i,s),e!==null&&(yt(e,t,s,n),uo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ae(),n=kr(t),s=Bt(r,n);s.tag=2,e!=null&&(s.callback=e),e=_r(t,s,n),e!==null&&(yt(e,t,n,r),uo(e,t,n))}};function gd(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Js(r,n)||!Js(s,i):!0}function Tp(t,e,r){var n=!1,s=Tr,i=e.contextType;return typeof i=="object"&&i!==null?i=st(i):(s=Me(e)?nn:Pe.current,n=e.contextTypes,i=(n=n!=null)?ns(t,s):Tr),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=na,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function yd(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&na.enqueueReplaceState(e,e.state,null)}function Rl(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Vu(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=st(i):(i=Me(e)?nn:Pe.current,s.context=ns(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ol(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&na.enqueueReplaceState(s,s.state,null),Io(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function as(t,e){try{var r="",n=e;do r+=vg(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ma(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function jl(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Ky=typeof WeakMap=="function"?WeakMap:Map;function Pp(t,e,r){r=Bt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Fo||(Fo=!0,Bl=n),jl(t,e)},r}function Op(t,e,r){r=Bt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){jl(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){jl(t,e),typeof n!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function vd(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Ky;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=iv.bind(null,t,e,r),e.then(t,t))}function wd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _d(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Bt(-1,1),e.tag=2,_r(r,e,1))),r.lanes|=1),t)}var Vy=Ht.ReactCurrentOwner,De=!1;function Re(t,e,r,n){e.child=t===null?sp(e,null,r,n):is(e,t.child,r,n)}function Sd(t,e,r,n,s){r=r.render;var i=e.ref;return Bn(e,s),n=Yu(t,e,r,n,i,s),r=Xu(),t!==null&&!De?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vt(t,e,s)):(Z&&r&&Fu(e),e.flags|=1,Re(t,e,n,s),e.child)}function kd(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!lc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Rp(t,e,i,n,s)):(t=go(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Js,r(o,n)&&t.ref===e.ref)return Vt(t,e,s)}return e.flags|=1,t=Er(i,n),t.ref=e.ref,t.return=e,e.child=t}function Rp(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Js(i,n)&&t.ref===e.ref)if(De=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(De=!0);else return e.lanes=t.lanes,Vt(t,e,s)}return Al(t,e,r,n,s)}function jp(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(Ln,qe),qe|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,J(Ln,qe),qe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,J(Ln,qe),qe|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,J(Ln,qe),qe|=n;return Re(t,e,s,r),e.child}function Ap(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Al(t,e,r,n,s){var i=Me(r)?nn:Pe.current;return i=ns(e,i),Bn(e,s),r=Yu(t,e,r,n,i,s),n=Xu(),t!==null&&!De?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vt(t,e,s)):(Z&&n&&Fu(e),e.flags|=1,Re(t,e,r,s),e.child)}function Ed(t,e,r,n,s){if(Me(r)){var i=!0;Oo(e)}else i=!1;if(Bn(e,s),e.stateNode===null)fo(t,e),Tp(e,r,n),Rl(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=st(u):(u=Me(r)?nn:Pe.current,u=ns(e,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&yd(e,o,n,u),Zt=!1;var h=e.memoizedState;o.state=h,Io(e,n,o,s),l=e.memoizedState,a!==n||h!==l||Fe.current||Zt?(typeof c=="function"&&(Ol(e,r,c,n),l=e.memoizedState),(a=Zt||gd(e,r,a,n,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,op(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ut(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=st(l):(l=Me(r)?nn:Pe.current,l=ns(e,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&yd(e,o,n,l),Zt=!1,h=e.memoizedState,o.state=h,Io(e,n,o,s);var v=e.memoizedState;a!==d||h!==v||Fe.current||Zt?(typeof m=="function"&&(Ol(e,r,m,n),v=e.memoizedState),(u=Zt||gd(e,r,u,n,h,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Nl(t,e,r,n,i,s)}function Nl(t,e,r,n,s,i){Ap(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&ld(e,r,!1),Vt(t,e,i);n=e.stateNode,Vy.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=is(e,t.child,null,i),e.child=is(e,null,a,i)):Re(t,e,a,i),e.memoizedState=n.state,s&&ld(e,r,!0),e.child}function Np(t){var e=t.stateNode;e.pendingContext?ad(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ad(t,e.context,!1),Hu(t,e.containerInfo)}function bd(t,e,r,n,s){return ss(),Bu(s),e.flags|=256,Re(t,e,r,n),e.child}var Il={dehydrated:null,treeContext:null,retryLane:0};function Ll(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ip(t,e,r){var n=e.pendingProps,s=ee.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),J(ee,s&1),t===null)return Tl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=oa(o,n,0,null),t=rn(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ll(r),e.memoizedState=Il,t):tc(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Hy(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Er(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Er(a,i):(i=rn(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Ll(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Il,n}return i=t.child,t=i.sibling,n=Er(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function tc(t,e){return e=oa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vi(t,e,r,n){return n!==null&&Bu(n),is(e,t.child,null,r),t=tc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Hy(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Ma(Error(T(422))),Vi(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=oa({mode:"visible",children:n.children},s,0,null),i=rn(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&is(e,t.child,null,o),e.child.memoizedState=Ll(o),e.memoizedState=Il,i);if(!(e.mode&1))return Vi(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(T(419)),n=Ma(i,n,void 0),Vi(t,e,o,n)}if(a=(o&t.childLanes)!==0,De||a){if(n=ve,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Kt(t,s),yt(n,t,s,-1))}return ac(),n=Ma(Error(T(421))),Vi(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=ov.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ke=wr(s.nextSibling),Ve=e,Z=!0,mt=null,t!==null&&(et[tt++]=Ft,et[tt++]=Mt,et[tt++]=sn,Ft=t.id,Mt=t.overflow,sn=e),e=tc(e,n.children),e.flags|=4096,e)}function xd(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Pl(t.return,e,r)}function Ba(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Lp(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Re(t,e,n.children,r),n=ee.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xd(t,r,e);else if(t.tag===19)xd(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(J(ee,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Lo(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Ba(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Lo(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Ba(e,!0,r,null,i);break;case"together":Ba(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),an|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,r=Er(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Er(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Qy(t,e,r){switch(e.tag){case 3:Np(e),ss();break;case 5:ap(e);break;case 1:Me(e.type)&&Oo(e);break;case 4:Hu(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;J(Ao,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(J(ee,ee.current&1),e.flags|=128,null):r&e.child.childLanes?Ip(t,e,r):(J(ee,ee.current&1),t=Vt(t,e,r),t!==null?t.sibling:null);J(ee,ee.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Lp(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),J(ee,ee.current),n)break;return null;case 22:case 23:return e.lanes=0,jp(t,e,r)}return Vt(t,e,r)}var Up,Ul,$p,Dp;Up=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ul=function(){};$p=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,qr(Tt.current);var i=null;switch(r){case"input":s=sl(t,s),n=sl(t,n),i=[];break;case"select":s=re({},s,{value:void 0}),n=re({},n,{value:void 0}),i=[];break;case"textarea":s=al(t,s),n=al(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=To)}ul(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Y("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Dp=function(t,e,r,n){r!==n&&(e.flags|=4)};function Es(t,e){if(!Z)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Gy(t,e,r){var n=e.pendingProps;switch(Mu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(e),null;case 1:return Me(e.type)&&Po(),xe(e),null;case 3:return n=e.stateNode,os(),X(Fe),X(Pe),Gu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Wi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mt!==null&&(Wl(mt),mt=null))),Ul(t,e),xe(e),null;case 5:Qu(e);var s=qr(ti.current);if(r=e.type,t!==null&&e.stateNode!=null)$p(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(T(166));return xe(e),null}if(t=qr(Tt.current),Wi(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[xt]=e,n[Zs]=i,t=(e.mode&1)!==0,r){case"dialog":Y("cancel",n),Y("close",n);break;case"iframe":case"object":case"embed":Y("load",n);break;case"video":case"audio":for(s=0;s<Os.length;s++)Y(Os[s],n);break;case"source":Y("error",n);break;case"img":case"image":case"link":Y("error",n),Y("load",n);break;case"details":Y("toggle",n);break;case"input":Ic(n,i),Y("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Y("invalid",n);break;case"textarea":Uc(n,i),Y("invalid",n)}ul(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&qi(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&qi(n.textContent,a,t),s=["children",""+a]):qs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Y("scroll",n)}switch(r){case"input":Li(n),Lc(n,i,!0);break;case"textarea":Li(n),$c(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=To)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hf(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[xt]=e,t[Zs]=n,Up(t,e,!1,!1),e.stateNode=t;e:{switch(o=cl(r,n),r){case"dialog":Y("cancel",t),Y("close",t),s=n;break;case"iframe":case"object":case"embed":Y("load",t),s=n;break;case"video":case"audio":for(s=0;s<Os.length;s++)Y(Os[s],t);s=n;break;case"source":Y("error",t),s=n;break;case"img":case"image":case"link":Y("error",t),Y("load",t),s=n;break;case"details":Y("toggle",t),s=n;break;case"input":Ic(t,n),s=sl(t,n),Y("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=re({},n,{value:void 0}),Y("invalid",t);break;case"textarea":Uc(t,n),s=al(t,n),Y("invalid",t);break;default:s=n}ul(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?mf(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ff(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ws(t,l):typeof l=="number"&&Ws(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Y("scroll",t):l!=null&&xu(t,i,l,o))}switch(r){case"input":Li(t),Lc(t,n,!1);break;case"textarea":Li(t),$c(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Cr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?$n(t,!!n.multiple,i,!1):n.defaultValue!=null&&$n(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=To)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xe(e),null;case 6:if(t&&e.stateNode!=null)Dp(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(T(166));if(r=qr(ti.current),qr(Tt.current),Wi(e)){if(n=e.stateNode,r=e.memoizedProps,n[xt]=e,(i=n.nodeValue!==r)&&(t=Ve,t!==null))switch(t.tag){case 3:qi(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qi(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[xt]=e,e.stateNode=n}return xe(e),null;case 13:if(X(ee),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Z&&Ke!==null&&e.mode&1&&!(e.flags&128))rp(),ss(),e.flags|=98560,i=!1;else if(i=Wi(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(T(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[xt]=e}else ss(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xe(e),i=!1}else mt!==null&&(Wl(mt),mt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ee.current&1?pe===0&&(pe=3):ac())),e.updateQueue!==null&&(e.flags|=4),xe(e),null);case 4:return os(),Ul(t,e),t===null&&Ys(e.stateNode.containerInfo),xe(e),null;case 10:return Wu(e.type._context),xe(e),null;case 17:return Me(e.type)&&Po(),xe(e),null;case 19:if(X(ee),i=e.memoizedState,i===null)return xe(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Es(i,!1);else{if(pe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Lo(t),o!==null){for(e.flags|=128,Es(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return J(ee,ee.current&1|2),e.child}t=t.sibling}i.tail!==null&&ae()>ls&&(e.flags|=128,n=!0,Es(i,!1),e.lanes=4194304)}else{if(!n)if(t=Lo(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Es(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Z)return xe(e),null}else 2*ae()-i.renderingStartTime>ls&&r!==1073741824&&(e.flags|=128,n=!0,Es(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ae(),e.sibling=null,r=ee.current,J(ee,n?r&1|2:r&1),e):(xe(e),null);case 22:case 23:return oc(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?qe&1073741824&&(xe(e),e.subtreeFlags&6&&(e.flags|=8192)):xe(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function Jy(t,e){switch(Mu(e),e.tag){case 1:return Me(e.type)&&Po(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return os(),X(Fe),X(Pe),Gu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qu(e),null;case 13:if(X(ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));ss()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return X(ee),null;case 4:return os(),null;case 10:return Wu(e.type._context),null;case 22:case 23:return oc(),null;case 24:return null;default:return null}}var Hi=!1,Te=!1,Yy=typeof WeakSet=="function"?WeakSet:Set,j=null;function In(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ie(t,e,n)}else r.current=null}function $l(t,e,r){try{r()}catch(n){ie(t,e,n)}}var Cd=!1;function Xy(t,e){if(_l=bo,t=qf(),Du(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var m;d!==r||s!==0&&d.nodeType!==3||(a=o+s),d!==i||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===r&&++u===s&&(a=o),h===i&&++c===n&&(l=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sl={focusedElem:t,selectionRange:r},bo=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,k=v.memoizedState,f=e.stateNode,p=f.getSnapshotBeforeUpdate(e.elementType===e.type?w:ut(e.type,w),k);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(S){ie(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return v=Cd,Cd=!1,v}function Ds(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&$l(e,r,i)}s=s.next}while(s!==n)}}function sa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Dl(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Fp(t){var e=t.alternate;e!==null&&(t.alternate=null,Fp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xt],delete e[Zs],delete e[bl],delete e[Iy],delete e[Ly])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Mp(t){return t.tag===5||t.tag===3||t.tag===4}function Td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Mp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=To));else if(n!==4&&(t=t.child,t!==null))for(Fl(t,e,r),t=t.sibling;t!==null;)Fl(t,e,r),t=t.sibling}function Ml(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ml(t,e,r),t=t.sibling;t!==null;)Ml(t,e,r),t=t.sibling}var Se=null,ft=!1;function Gt(t,e,r){for(r=r.child;r!==null;)Bp(t,e,r),r=r.sibling}function Bp(t,e,r){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Jo,r)}catch{}switch(r.tag){case 5:Te||In(r,e);case 6:var n=Se,s=ft;Se=null,Gt(t,e,r),Se=n,ft=s,Se!==null&&(ft?(t=Se,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Se.removeChild(r.stateNode));break;case 18:Se!==null&&(ft?(t=Se,r=r.stateNode,t.nodeType===8?Ia(t.parentNode,r):t.nodeType===1&&Ia(t,r),Qs(t)):Ia(Se,r.stateNode));break;case 4:n=Se,s=ft,Se=r.stateNode.containerInfo,ft=!0,Gt(t,e,r),Se=n,ft=s;break;case 0:case 11:case 14:case 15:if(!Te&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&$l(r,e,o),s=s.next}while(s!==n)}Gt(t,e,r);break;case 1:if(!Te&&(In(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ie(r,e,a)}Gt(t,e,r);break;case 21:Gt(t,e,r);break;case 22:r.mode&1?(Te=(n=Te)||r.memoizedState!==null,Gt(t,e,r),Te=n):Gt(t,e,r);break;default:Gt(t,e,r)}}function Pd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Yy),e.forEach(function(n){var s=av.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function at(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Se=a.stateNode,ft=!1;break e;case 3:Se=a.stateNode.containerInfo,ft=!0;break e;case 4:Se=a.stateNode.containerInfo,ft=!0;break e}a=a.return}if(Se===null)throw Error(T(160));Bp(i,o,s),Se=null,ft=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ie(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zp(e,t),e=e.sibling}function zp(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(at(e,t),_t(t),n&4){try{Ds(3,t,t.return),sa(3,t)}catch(w){ie(t,t.return,w)}try{Ds(5,t,t.return)}catch(w){ie(t,t.return,w)}}break;case 1:at(e,t),_t(t),n&512&&r!==null&&In(r,r.return);break;case 5:if(at(e,t),_t(t),n&512&&r!==null&&In(r,r.return),t.flags&32){var s=t.stateNode;try{Ws(s,"")}catch(w){ie(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&cf(s,i),cl(a,o);var u=cl(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?mf(s,d):c==="dangerouslySetInnerHTML"?ff(s,d):c==="children"?Ws(s,d):xu(s,c,d,u)}switch(a){case"input":il(s,i);break;case"textarea":df(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?$n(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?$n(s,!!i.multiple,i.defaultValue,!0):$n(s,!!i.multiple,i.multiple?[]:"",!1))}s[Zs]=i}catch(w){ie(t,t.return,w)}}break;case 6:if(at(e,t),_t(t),n&4){if(t.stateNode===null)throw Error(T(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){ie(t,t.return,w)}}break;case 3:if(at(e,t),_t(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Qs(e.containerInfo)}catch(w){ie(t,t.return,w)}break;case 4:at(e,t),_t(t);break;case 13:at(e,t),_t(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(sc=ae())),n&4&&Pd(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Te=(u=Te)||c,at(e,t),Te=u):at(e,t),_t(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(j=t,c=t.child;c!==null;){for(d=j=c;j!==null;){switch(h=j,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ds(4,h,h.return);break;case 1:In(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){ie(n,r,w)}}break;case 5:In(h,h.return);break;case 22:if(h.memoizedState!==null){Rd(d);continue}}m!==null?(m.return=h,j=m):Rd(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=pf("display",o))}catch(w){ie(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){ie(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:at(e,t),_t(t),n&4&&Pd(t);break;case 21:break;default:at(e,t),_t(t)}}function _t(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Mp(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ws(s,""),n.flags&=-33);var i=Td(t);Ml(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Td(t);Fl(t,a,o);break;default:throw Error(T(161))}}catch(l){ie(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Zy(t,e,r){j=t,qp(t)}function qp(t,e,r){for(var n=(t.mode&1)!==0;j!==null;){var s=j,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Hi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Te;a=Hi;var u=Te;if(Hi=o,(Te=l)&&!u)for(j=s;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?jd(s):l!==null?(l.return=o,j=l):jd(s);for(;i!==null;)j=i,qp(i),i=i.sibling;j=s,Hi=a,Te=u}Od(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,j=i):Od(t)}}function Od(t){for(;j!==null;){var e=j;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Te||sa(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Te)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:ut(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&fd(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}fd(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Qs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Te||e.flags&512&&Dl(e)}catch(h){ie(e,e.return,h)}}if(e===t){j=null;break}if(r=e.sibling,r!==null){r.return=e.return,j=r;break}j=e.return}}function Rd(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var r=e.sibling;if(r!==null){r.return=e.return,j=r;break}j=e.return}}function jd(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{sa(4,e)}catch(l){ie(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){ie(e,s,l)}}var i=e.return;try{Dl(e)}catch(l){ie(e,i,l)}break;case 5:var o=e.return;try{Dl(e)}catch(l){ie(e,o,l)}}}catch(l){ie(e,e.return,l)}if(e===t){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var ev=Math.ceil,Do=Ht.ReactCurrentDispatcher,rc=Ht.ReactCurrentOwner,nt=Ht.ReactCurrentBatchConfig,W=0,ve=null,ce=null,ke=0,qe=0,Ln=Or(0),pe=0,ii=null,an=0,ia=0,nc=0,Fs=null,$e=null,sc=0,ls=1/0,At=null,Fo=!1,Bl=null,Sr=null,Qi=!1,pr=null,Mo=0,Ms=0,zl=null,po=-1,mo=0;function Ae(){return W&6?ae():po!==-1?po:po=ae()}function kr(t){return t.mode&1?W&2&&ke!==0?ke&-ke:$y.transition!==null?(mo===0&&(mo=Tf()),mo):(t=H,t!==0||(t=window.event,t=t===void 0?16:If(t.type)),t):1}function yt(t,e,r,n){if(50<Ms)throw Ms=0,zl=null,Error(T(185));ki(t,r,n),(!(W&2)||t!==ve)&&(t===ve&&(!(W&2)&&(ia|=r),pe===4&&rr(t,ke)),Be(t,n),r===1&&W===0&&!(e.mode&1)&&(ls=ae()+500,ta&&Rr()))}function Be(t,e){var r=t.callbackNode;$g(t,e);var n=Eo(t,t===ve?ke:0);if(n===0)r!==null&&Mc(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Mc(r),e===1)t.tag===0?Uy(Ad.bind(null,t)):Zf(Ad.bind(null,t)),Ay(function(){!(W&6)&&Rr()}),r=null;else{switch(Pf(n)){case 1:r=Ru;break;case 4:r=xf;break;case 16:r=ko;break;case 536870912:r=Cf;break;default:r=ko}r=Yp(r,Wp.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Wp(t,e){if(po=-1,mo=0,W&6)throw Error(T(327));var r=t.callbackNode;if(zn()&&t.callbackNode!==r)return null;var n=Eo(t,t===ve?ke:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Bo(t,n);else{e=n;var s=W;W|=2;var i=Vp();(ve!==t||ke!==e)&&(At=null,ls=ae()+500,tn(t,e));do try{nv();break}catch(a){Kp(t,a)}while(!0);qu(),Do.current=i,W=s,ce!==null?e=0:(ve=null,ke=0,e=pe)}if(e!==0){if(e===2&&(s=ml(t),s!==0&&(n=s,e=ql(t,s))),e===1)throw r=ii,tn(t,0),rr(t,n),Be(t,ae()),r;if(e===6)rr(t,n);else{if(s=t.current.alternate,!(n&30)&&!tv(s)&&(e=Bo(t,n),e===2&&(i=ml(t),i!==0&&(n=i,e=ql(t,i))),e===1))throw r=ii,tn(t,0),rr(t,n),Be(t,ae()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(T(345));case 2:$r(t,$e,At);break;case 3:if(rr(t,n),(n&130023424)===n&&(e=sc+500-ae(),10<e)){if(Eo(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ae(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=El($r.bind(null,t,$e,At),e);break}$r(t,$e,At);break;case 4:if(rr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-gt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=ae()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ev(n/1960))-n,10<n){t.timeoutHandle=El($r.bind(null,t,$e,At),n);break}$r(t,$e,At);break;case 5:$r(t,$e,At);break;default:throw Error(T(329))}}}return Be(t,ae()),t.callbackNode===r?Wp.bind(null,t):null}function ql(t,e){var r=Fs;return t.current.memoizedState.isDehydrated&&(tn(t,e).flags|=256),t=Bo(t,e),t!==2&&(e=$e,$e=r,e!==null&&Wl(e)),t}function Wl(t){$e===null?$e=t:$e.push.apply($e,t)}function tv(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!vt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rr(t,e){for(e&=~nc,e&=~ia,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-gt(e),n=1<<r;t[r]=-1,e&=~n}}function Ad(t){if(W&6)throw Error(T(327));zn();var e=Eo(t,0);if(!(e&1))return Be(t,ae()),null;var r=Bo(t,e);if(t.tag!==0&&r===2){var n=ml(t);n!==0&&(e=n,r=ql(t,n))}if(r===1)throw r=ii,tn(t,0),rr(t,e),Be(t,ae()),r;if(r===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$r(t,$e,At),Be(t,ae()),null}function ic(t,e){var r=W;W|=1;try{return t(e)}finally{W=r,W===0&&(ls=ae()+500,ta&&Rr())}}function ln(t){pr!==null&&pr.tag===0&&!(W&6)&&zn();var e=W;W|=1;var r=nt.transition,n=H;try{if(nt.transition=null,H=1,t)return t()}finally{H=n,nt.transition=r,W=e,!(W&6)&&Rr()}}function oc(){qe=Ln.current,X(Ln)}function tn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,jy(r)),ce!==null)for(r=ce.return;r!==null;){var n=r;switch(Mu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Po();break;case 3:os(),X(Fe),X(Pe),Gu();break;case 5:Qu(n);break;case 4:os();break;case 13:X(ee);break;case 19:X(ee);break;case 10:Wu(n.type._context);break;case 22:case 23:oc()}r=r.return}if(ve=t,ce=t=Er(t.current,null),ke=qe=e,pe=0,ii=null,nc=ia=an=0,$e=Fs=null,zr!==null){for(e=0;e<zr.length;e++)if(r=zr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}zr=null}return t}function Kp(t,e){do{var r=ce;try{if(qu(),co.current=$o,Uo){for(var n=te.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Uo=!1}if(on=0,ye=he=te=null,$s=!1,ri=0,rc.current=null,r===null||r.return===null){pe=1,ii=e,ce=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=ke,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=wd(o);if(m!==null){m.flags&=-257,_d(m,o,a,i,e),m.mode&1&&vd(i,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){vd(i,u,e),ac();break e}l=Error(T(426))}}else if(Z&&a.mode&1){var k=wd(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),_d(k,o,a,i,e),Bu(as(l,a));break e}}i=l=as(l,a),pe!==4&&(pe=2),Fs===null?Fs=[i]:Fs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var f=Pp(i,l,e);hd(i,f);break e;case 1:a=l;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Sr===null||!Sr.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=Op(i,a,e);hd(i,S);break e}}i=i.return}while(i!==null)}Qp(r)}catch(b){e=b,ce===r&&r!==null&&(ce=r=r.return);continue}break}while(!0)}function Vp(){var t=Do.current;return Do.current=$o,t===null?$o:t}function ac(){(pe===0||pe===3||pe===2)&&(pe=4),ve===null||!(an&268435455)&&!(ia&268435455)||rr(ve,ke)}function Bo(t,e){var r=W;W|=2;var n=Vp();(ve!==t||ke!==e)&&(At=null,tn(t,e));do try{rv();break}catch(s){Kp(t,s)}while(!0);if(qu(),W=r,Do.current=n,ce!==null)throw Error(T(261));return ve=null,ke=0,pe}function rv(){for(;ce!==null;)Hp(ce)}function nv(){for(;ce!==null&&!Pg();)Hp(ce)}function Hp(t){var e=Jp(t.alternate,t,qe);t.memoizedProps=t.pendingProps,e===null?Qp(t):ce=e,rc.current=null}function Qp(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Jy(r,e),r!==null){r.flags&=32767,ce=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pe=6,ce=null;return}}else if(r=Gy(r,e,qe),r!==null){ce=r;return}if(e=e.sibling,e!==null){ce=e;return}ce=e=t}while(e!==null);pe===0&&(pe=5)}function $r(t,e,r){var n=H,s=nt.transition;try{nt.transition=null,H=1,sv(t,e,r,n)}finally{nt.transition=s,H=n}return null}function sv(t,e,r,n){do zn();while(pr!==null);if(W&6)throw Error(T(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Dg(t,i),t===ve&&(ce=ve=null,ke=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Qi||(Qi=!0,Yp(ko,function(){return zn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=nt.transition,nt.transition=null;var o=H;H=1;var a=W;W|=4,rc.current=null,Xy(t,r),zp(r,t),by(Sl),bo=!!_l,Sl=_l=null,t.current=r,Zy(r),Og(),W=a,H=o,nt.transition=i}else t.current=r;if(Qi&&(Qi=!1,pr=t,Mo=s),i=t.pendingLanes,i===0&&(Sr=null),Ag(r.stateNode),Be(t,ae()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Fo)throw Fo=!1,t=Bl,Bl=null,t;return Mo&1&&t.tag!==0&&zn(),i=t.pendingLanes,i&1?t===zl?Ms++:(Ms=0,zl=t):Ms=0,Rr(),null}function zn(){if(pr!==null){var t=Pf(Mo),e=nt.transition,r=H;try{if(nt.transition=null,H=16>t?16:t,pr===null)var n=!1;else{if(t=pr,pr=null,Mo=0,W&6)throw Error(T(331));var s=W;for(W|=4,j=t.current;j!==null;){var i=j,o=i.child;if(j.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:Ds(8,c,i)}var d=c.child;if(d!==null)d.return=c,j=d;else for(;j!==null;){c=j;var h=c.sibling,m=c.return;if(Fp(c),c===u){j=null;break}if(h!==null){h.return=m,j=h;break}j=m}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}j=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,j=o;else e:for(;j!==null;){if(i=j,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ds(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,j=f;break e}j=i.return}}var p=t.current;for(j=p;j!==null;){o=j;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,j=g;else e:for(o=p;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sa(9,a)}}catch(b){ie(a,a.return,b)}if(a===o){j=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,j=S;break e}j=a.return}}if(W=s,Rr(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Jo,t)}catch{}n=!0}return n}finally{H=r,nt.transition=e}}return!1}function Nd(t,e,r){e=as(r,e),e=Pp(t,e,1),t=_r(t,e,1),e=Ae(),t!==null&&(ki(t,1,e),Be(t,e))}function ie(t,e,r){if(t.tag===3)Nd(t,t,r);else for(;e!==null;){if(e.tag===3){Nd(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Sr===null||!Sr.has(n))){t=as(r,t),t=Op(e,t,1),e=_r(e,t,1),t=Ae(),e!==null&&(ki(e,1,t),Be(e,t));break}}e=e.return}}function iv(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ae(),t.pingedLanes|=t.suspendedLanes&r,ve===t&&(ke&r)===r&&(pe===4||pe===3&&(ke&130023424)===ke&&500>ae()-sc?tn(t,0):nc|=r),Be(t,e)}function Gp(t,e){e===0&&(t.mode&1?(e=Di,Di<<=1,!(Di&130023424)&&(Di=4194304)):e=1);var r=Ae();t=Kt(t,e),t!==null&&(ki(t,e,r),Be(t,r))}function ov(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Gp(t,r)}function av(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(e),Gp(t,r)}var Jp;Jp=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fe.current)De=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return De=!1,Qy(t,e,r);De=!!(t.flags&131072)}else De=!1,Z&&e.flags&1048576&&ep(e,jo,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;fo(t,e),t=e.pendingProps;var s=ns(e,Pe.current);Bn(e,r),s=Yu(null,e,n,t,s,r);var i=Xu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Me(n)?(i=!0,Oo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vu(e),s.updater=na,e.stateNode=s,s._reactInternals=e,Rl(e,n,t,r),e=Nl(null,e,n,!0,i,r)):(e.tag=0,Z&&i&&Fu(e),Re(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(fo(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=uv(n),t=ut(n,t),s){case 0:e=Al(null,e,n,t,r);break e;case 1:e=Ed(null,e,n,t,r);break e;case 11:e=Sd(null,e,n,t,r);break e;case 14:e=kd(null,e,n,ut(n.type,t),r);break e}throw Error(T(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ut(n,s),Al(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ut(n,s),Ed(t,e,n,s,r);case 3:e:{if(Np(e),t===null)throw Error(T(387));n=e.pendingProps,i=e.memoizedState,s=i.element,op(t,e),Io(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=as(Error(T(423)),e),e=bd(t,e,n,r,s);break e}else if(n!==s){s=as(Error(T(424)),e),e=bd(t,e,n,r,s);break e}else for(Ke=wr(e.stateNode.containerInfo.firstChild),Ve=e,Z=!0,mt=null,r=sp(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ss(),n===s){e=Vt(t,e,r);break e}Re(t,e,n,r)}e=e.child}return e;case 5:return ap(e),t===null&&Tl(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,kl(n,s)?o=null:i!==null&&kl(n,i)&&(e.flags|=32),Ap(t,e),Re(t,e,o,r),e.child;case 6:return t===null&&Tl(e),null;case 13:return Ip(t,e,r);case 4:return Hu(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=is(e,null,n,r):Re(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ut(n,s),Sd(t,e,n,s,r);case 7:return Re(t,e,e.pendingProps,r),e.child;case 8:return Re(t,e,e.pendingProps.children,r),e.child;case 12:return Re(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,J(Ao,n._currentValue),n._currentValue=o,i!==null)if(vt(i.value,o)){if(i.children===s.children&&!Fe.current){e=Vt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Bt(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Pl(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Pl(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Re(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Bn(e,r),s=st(s),n=n(s),e.flags|=1,Re(t,e,n,r),e.child;case 14:return n=e.type,s=ut(n,e.pendingProps),s=ut(n.type,s),kd(t,e,n,s,r);case 15:return Rp(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ut(n,s),fo(t,e),e.tag=1,Me(n)?(t=!0,Oo(e)):t=!1,Bn(e,r),Tp(e,n,s),Rl(e,n,s,r),Nl(null,e,n,!0,t,r);case 19:return Lp(t,e,r);case 22:return jp(t,e,r)}throw Error(T(156,e.tag))};function Yp(t,e){return bf(t,e)}function lv(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(t,e,r,n){return new lv(t,e,r,n)}function lc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uv(t){if(typeof t=="function")return lc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tu)return 11;if(t===Pu)return 14}return 2}function Er(t,e){var r=t.alternate;return r===null?(r=rt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function go(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")lc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case xn:return rn(r.children,s,i,e);case Cu:o=8,s|=8;break;case el:return t=rt(12,r,e,s|2),t.elementType=el,t.lanes=i,t;case tl:return t=rt(13,r,e,s),t.elementType=tl,t.lanes=i,t;case rl:return t=rt(19,r,e,s),t.elementType=rl,t.lanes=i,t;case af:return oa(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sf:o=10;break e;case of:o=9;break e;case Tu:o=11;break e;case Pu:o=14;break e;case Xt:o=16,n=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=rt(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function rn(t,e,r,n){return t=rt(7,t,n,e),t.lanes=r,t}function oa(t,e,r,n){return t=rt(22,t,n,e),t.elementType=af,t.lanes=r,t.stateNode={isHidden:!1},t}function za(t,e,r){return t=rt(6,t,null,e),t.lanes=r,t}function qa(t,e,r){return e=rt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cv(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ea(0),this.expirationTimes=Ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function uc(t,e,r,n,s,i,o,a,l){return t=new cv(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=rt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vu(i),t}function dv(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Xp(t){if(!t)return Tr;t=t._reactInternals;e:{if(hn(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Me(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var r=t.type;if(Me(r))return Xf(t,r,e)}return e}function Zp(t,e,r,n,s,i,o,a,l){return t=uc(r,n,!0,t,s,i,o,a,l),t.context=Xp(null),r=t.current,n=Ae(),s=kr(r),i=Bt(n,s),i.callback=e??null,_r(r,i,s),t.current.lanes=s,ki(t,s,n),Be(t,n),t}function aa(t,e,r,n){var s=e.current,i=Ae(),o=kr(s);return r=Xp(r),e.context===null?e.context=r:e.pendingContext=r,e=Bt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=_r(s,e,o),t!==null&&(yt(t,s,o,i),uo(t,s,o)),o}function zo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Id(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function cc(t,e){Id(t,e),(t=t.alternate)&&Id(t,e)}function hv(){return null}var em=typeof reportError=="function"?reportError:function(t){console.error(t)};function dc(t){this._internalRoot=t}la.prototype.render=dc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));aa(t,e,null,null)};la.prototype.unmount=dc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ln(function(){aa(null,t,null,null)}),e[Wt]=null}};function la(t){this._internalRoot=t}la.prototype.unstable_scheduleHydration=function(t){if(t){var e=jf();t={blockedOn:null,target:t,priority:e};for(var r=0;r<tr.length&&e!==0&&e<tr[r].priority;r++);tr.splice(r,0,t),r===0&&Nf(t)}};function hc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ua(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ld(){}function fv(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=zo(o);i.call(u)}}var o=Zp(e,n,t,0,null,!1,!1,"",Ld);return t._reactRootContainer=o,t[Wt]=o.current,Ys(t.nodeType===8?t.parentNode:t),ln(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=zo(l);a.call(u)}}var l=uc(t,0,!1,null,null,!1,!1,"",Ld);return t._reactRootContainer=l,t[Wt]=l.current,Ys(t.nodeType===8?t.parentNode:t),ln(function(){aa(e,l,r,n)}),l}function ca(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=zo(o);a.call(l)}}aa(e,o,t,s)}else o=fv(r,e,t,s,n);return zo(o)}Of=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ps(e.pendingLanes);r!==0&&(ju(e,r|1),Be(e,ae()),!(W&6)&&(ls=ae()+500,Rr()))}break;case 13:ln(function(){var n=Kt(t,1);if(n!==null){var s=Ae();yt(n,t,1,s)}}),cc(t,1)}};Au=function(t){if(t.tag===13){var e=Kt(t,134217728);if(e!==null){var r=Ae();yt(e,t,134217728,r)}cc(t,134217728)}};Rf=function(t){if(t.tag===13){var e=kr(t),r=Kt(t,e);if(r!==null){var n=Ae();yt(r,t,e,n)}cc(t,e)}};jf=function(){return H};Af=function(t,e){var r=H;try{return H=t,e()}finally{H=r}};hl=function(t,e,r){switch(e){case"input":if(il(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=ea(n);if(!s)throw Error(T(90));uf(n),il(n,s)}}}break;case"textarea":df(t,r);break;case"select":e=r.value,e!=null&&$n(t,!!r.multiple,e,!1)}};vf=ic;wf=ln;var pv={usingClientEntryPoint:!1,Events:[bi,On,ea,gf,yf,ic]},bs={findFiberByHostInstance:Br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mv={bundleType:bs.bundleType,version:bs.version,rendererPackageName:bs.rendererPackageName,rendererConfig:bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kf(t),t===null?null:t.stateNode},findFiberByHostInstance:bs.findFiberByHostInstance||hv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gi.isDisabled&&Gi.supportsFiber)try{Jo=Gi.inject(mv),Ct=Gi}catch{}}Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pv;Qe.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hc(e))throw Error(T(200));return dv(t,e,null,r)};Qe.createRoot=function(t,e){if(!hc(t))throw Error(T(299));var r=!1,n="",s=em;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=uc(t,1,!1,null,null,r,!1,n,s),t[Wt]=e.current,Ys(t.nodeType===8?t.parentNode:t),new dc(e)};Qe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=kf(e),t=t===null?null:t.stateNode,t};Qe.flushSync=function(t){return ln(t)};Qe.hydrate=function(t,e,r){if(!ua(e))throw Error(T(200));return ca(null,t,e,!0,r)};Qe.hydrateRoot=function(t,e,r){if(!hc(t))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=em;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Zp(e,null,t,1,r??null,s,!1,i,o),t[Wt]=e.current,Ys(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new la(e)};Qe.render=function(t,e,r){if(!ua(e))throw Error(T(200));return ca(null,t,e,!1,r)};Qe.unmountComponentAtNode=function(t){if(!ua(t))throw Error(T(40));return t._reactRootContainer?(ln(function(){ca(null,null,t,!1,function(){t._reactRootContainer=null,t[Wt]=null})}),!0):!1};Qe.unstable_batchedUpdates=ic;Qe.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ua(r))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return ca(t,e,r,!1,n)};Qe.version="18.3.1-next-f1338f8080-20240426";function tm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tm)}catch(t){console.error(t)}}tm(),ef.exports=Qe;var gv=ef.exports,Ud=gv;Xa.createRoot=Ud.createRoot,Xa.hydrateRoot=Ud.hydrateRoot;var hs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yv={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},sr,vu,jh,vv=(jh=class{constructor(){I(this,sr,yv);I(this,vu,!1)}setTimeoutProvider(t){R(this,sr,t)}setTimeout(t,e){return _(this,sr).setTimeout(t,e)}clearTimeout(t){_(this,sr).clearTimeout(t)}setInterval(t,e){return _(this,sr).setInterval(t,e)}clearInterval(t){_(this,sr).clearInterval(t)}},sr=new WeakMap,vu=new WeakMap,jh),Wr=new vv;function wv(t){setTimeout(t,0)}var un=typeof window>"u"||"Deno"in globalThis;function je(){}function _v(t,e){return typeof t=="function"?t(e):t}function Kl(t){return typeof t=="number"&&t>=0&&t!==1/0}function rm(t,e){return Math.max(t+(e||0)-Date.now(),0)}function br(t,e){return typeof t=="function"?t(e):t}function Ze(t,e){return typeof t=="function"?t(e):t}function $d(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==fc(o,e.options))return!1}else if(!oi(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Dd(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(cn(e.options.mutationKey)!==cn(i))return!1}else if(!oi(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function fc(t,e){return((e==null?void 0:e.queryKeyHashFn)||cn)(t)}function cn(t){return JSON.stringify(t,(e,r)=>Vl(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function oi(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>oi(t[r],e[r])):!1}var Sv=Object.prototype.hasOwnProperty;function nm(t,e,r=0){if(t===e)return t;if(r>500)return e;const n=Fd(t)&&Fd(e);if(!n&&!(Vl(t)&&Vl(e)))return e;const i=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),a=o.length,l=n?new Array(a):{};let u=0;for(let c=0;c<a;c++){const d=n?c:o[c],h=t[d],m=e[d];if(h===m){l[d]=h,(n?c<i:Sv.call(t,d))&&u++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){l[d]=m;continue}const v=nm(h,m,r+1);l[d]=v,v===h&&u++}return i===a&&u===i?t:l}function qo(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Fd(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Vl(t){if(!Md(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Md(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Md(t){return Object.prototype.toString.call(t)==="[object Object]"}function kv(t){return new Promise(e=>{Wr.setTimeout(e,t)})}function Hl(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?nm(t,e):e}function Ev(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function bv(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var pc=Symbol();function sm(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===pc?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function mc(t,e){return typeof t=="function"?t(...e):!!t}function xv(t,e,r){let n=!1,s;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(s??(s=e()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),t}var Vr,ir,Wn,Ah,Cv=(Ah=class extends hs{constructor(){super();I(this,Vr);I(this,ir);I(this,Wn);R(this,Wn,e=>{if(!un&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){_(this,ir)||this.setEventListener(_(this,Wn))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,ir))==null||e.call(this),R(this,ir,void 0))}setEventListener(e){var r;R(this,Wn,e),(r=_(this,ir))==null||r.call(this),R(this,ir,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){_(this,Vr)!==e&&(R(this,Vr,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof _(this,Vr)=="boolean"?_(this,Vr):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Vr=new WeakMap,ir=new WeakMap,Wn=new WeakMap,Ah),gc=new Cv;function Ql(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}var Tv=wv;function Pv(){let t=[],e=0,r=a=>{a()},n=a=>{a()},s=Tv;const i=a=>{e?t.push(a):s(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var fe=Pv(),Kn,or,Vn,Nh,Ov=(Nh=class extends hs{constructor(){super();I(this,Kn,!0);I(this,or);I(this,Vn);R(this,Vn,e=>{if(!un&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){_(this,or)||this.setEventListener(_(this,Vn))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,or))==null||e.call(this),R(this,or,void 0))}setEventListener(e){var r;R(this,Vn,e),(r=_(this,or))==null||r.call(this),R(this,or,e(this.setOnline.bind(this)))}setOnline(e){_(this,Kn)!==e&&(R(this,Kn,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return _(this,Kn)}},Kn=new WeakMap,or=new WeakMap,Vn=new WeakMap,Nh),Wo=new Ov;function Rv(t){return Math.min(1e3*2**t,3e4)}function im(t){return(t??"online")==="online"?Wo.isOnline():!0}var Gl=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function om(t){let e=!1,r=0,n;const s=Ql(),i=()=>s.status!=="pending",o=w=>{var k;if(!i()){const f=new Gl(w);h(f),(k=t.onCancel)==null||k.call(t,f)}},a=()=>{e=!0},l=()=>{e=!1},u=()=>gc.isFocused()&&(t.networkMode==="always"||Wo.isOnline())&&t.canRun(),c=()=>im(t.networkMode)&&t.canRun(),d=w=>{i()||(n==null||n(),s.resolve(w))},h=w=>{i()||(n==null||n(),s.reject(w))},m=()=>new Promise(w=>{var k;n=f=>{(i()||u())&&w(f)},(k=t.onPause)==null||k.call(t)}).then(()=>{var w;n=void 0,i()||(w=t.onContinue)==null||w.call(t)}),v=()=>{if(i())return;let w;const k=r===0?t.initialPromise:void 0;try{w=k??t.fn()}catch(f){w=Promise.reject(f)}Promise.resolve(w).then(d).catch(f=>{var x;if(i())return;const p=t.retry??(un?0:3),g=t.retryDelay??Rv,S=typeof g=="function"?g(r,f):g,b=p===!0||typeof p=="number"&&r<p||typeof p=="function"&&p(r,f);if(e||!b){h(f);return}r++,(x=t.onFail)==null||x.call(t,r,f),kv(S).then(()=>u()?void 0:m()).then(()=>{e?h(f):v()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?v():m().then(v),s)}}var Hr,Ih,am=(Ih=class{constructor(){I(this,Hr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kl(this.gcTime)&&R(this,Hr,Wr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(un?1/0:5*60*1e3))}clearGcTimeout(){_(this,Hr)&&(Wr.clearTimeout(_(this,Hr)),R(this,Hr,void 0))}},Hr=new WeakMap,Ih),Qr,Hn,Xe,Gr,ge,gi,Jr,dt,jt,Lh,jv=(Lh=class extends am{constructor(e){super();I(this,dt);I(this,Qr);I(this,Hn);I(this,Xe);I(this,Gr);I(this,ge);I(this,gi);I(this,Jr);R(this,Jr,!1),R(this,gi,e.defaultOptions),this.setOptions(e.options),this.observers=[],R(this,Gr,e.client),R(this,Xe,_(this,Gr).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,R(this,Qr,zd(this.options)),this.state=e.state??_(this,Qr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=_(this,ge))==null?void 0:e.promise}setOptions(e){if(this.options={..._(this,gi),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=zd(this.options);r.data!==void 0&&(this.setState(Bd(r.data,r.dataUpdatedAt)),R(this,Qr,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,Xe).remove(this)}setData(e,r){const n=Hl(this.state.data,e,this.options);return B(this,dt,jt).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){B(this,dt,jt).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=_(this,ge))==null?void 0:n.promise;return(s=_(this,ge))==null||s.cancel(e),r?r.then(je).catch(je):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,Qr))}isActive(){return this.observers.some(e=>Ze(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pc||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>br(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!rm(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=_(this,ge))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=_(this,ge))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),_(this,Xe).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(_(this,ge)&&(_(this,Jr)?_(this,ge).cancel({revert:!0}):_(this,ge).cancelRetry()),this.scheduleGc()),_(this,Xe).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||B(this,dt,jt).call(this,{type:"invalidate"})}async fetch(e,r){var l,u,c,d,h,m,v,w,k,f,p,g;if(this.state.fetchStatus!=="idle"&&((l=_(this,ge))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(_(this,ge))return _(this,ge).continueRetry(),_(this,ge).promise}if(e&&this.setOptions(e),!this.options.queryFn){const S=this.observers.find(b=>b.options.queryFn);S&&this.setOptions(S.options)}const n=new AbortController,s=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(R(this,Jr,!0),n.signal)})},i=()=>{const S=sm(this.options,r),x=(()=>{const P={client:_(this,Gr),queryKey:this.queryKey,meta:this.meta};return s(P),P})();return R(this,Jr,!1),this.options.persister?this.options.persister(S,x,this):S(x)},a=(()=>{const S={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:_(this,Gr),state:this.state,fetchFn:i};return s(S),S})();(u=this.options.behavior)==null||u.onFetch(a,this),R(this,Hn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&B(this,dt,jt).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),R(this,ge,om({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,onCancel:S=>{S instanceof Gl&&S.revert&&this.setState({..._(this,Hn),fetchStatus:"idle"}),n.abort()},onFail:(S,b)=>{B(this,dt,jt).call(this,{type:"failed",failureCount:S,error:b})},onPause:()=>{B(this,dt,jt).call(this,{type:"pause"})},onContinue:()=>{B(this,dt,jt).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const S=await _(this,ge).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(m=(h=_(this,Xe).config).onSuccess)==null||m.call(h,S,this),(w=(v=_(this,Xe).config).onSettled)==null||w.call(v,S,this.state.error,this),S}catch(S){if(S instanceof Gl){if(S.silent)return _(this,ge).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw B(this,dt,jt).call(this,{type:"error",error:S}),(f=(k=_(this,Xe).config).onError)==null||f.call(k,S,this),(g=(p=_(this,Xe).config).onSettled)==null||g.call(p,this.state.data,S,this),S}finally{this.scheduleGc()}}},Qr=new WeakMap,Hn=new WeakMap,Xe=new WeakMap,Gr=new WeakMap,ge=new WeakMap,gi=new WeakMap,Jr=new WeakMap,dt=new WeakSet,jt=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...lm(n.data,this.options),fetchMeta:e.meta??null};case"success":const s={...n,...Bd(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return R(this,Hn,e.manual?s:void 0),s;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),fe.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),_(this,Xe).notify({query:this,type:"updated",action:e})})},Lh);function lm(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:im(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Bd(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function zd(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Le,q,yi,Oe,Yr,Qn,Lt,ar,vi,Gn,Jn,Xr,Zr,lr,Yn,V,Rs,Jl,Yl,Xl,Zl,eu,tu,ru,um,Uh,Av=(Uh=class extends hs{constructor(e,r){super();I(this,V);I(this,Le);I(this,q);I(this,yi);I(this,Oe);I(this,Yr);I(this,Qn);I(this,Lt);I(this,ar);I(this,vi);I(this,Gn);I(this,Jn);I(this,Xr);I(this,Zr);I(this,lr);I(this,Yn,new Set);this.options=r,R(this,Le,e),R(this,ar,null),R(this,Lt,Ql()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,q).addObserver(this),qd(_(this,q),this.options)?B(this,V,Rs).call(this):this.updateResult(),B(this,V,Zl).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return nu(_(this,q),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return nu(_(this,q),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,B(this,V,eu).call(this),B(this,V,tu).call(this),_(this,q).removeObserver(this)}setOptions(e){const r=this.options,n=_(this,q);if(this.options=_(this,Le).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ze(this.options.enabled,_(this,q))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");B(this,V,ru).call(this),_(this,q).setOptions(this.options),r._defaulted&&!qo(this.options,r)&&_(this,Le).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,q),observer:this});const s=this.hasListeners();s&&Wd(_(this,q),n,this.options,r)&&B(this,V,Rs).call(this),this.updateResult(),s&&(_(this,q)!==n||Ze(this.options.enabled,_(this,q))!==Ze(r.enabled,_(this,q))||br(this.options.staleTime,_(this,q))!==br(r.staleTime,_(this,q)))&&B(this,V,Jl).call(this);const i=B(this,V,Yl).call(this);s&&(_(this,q)!==n||Ze(this.options.enabled,_(this,q))!==Ze(r.enabled,_(this,q))||i!==_(this,lr))&&B(this,V,Xl).call(this,i)}getOptimisticResult(e){const r=_(this,Le).getQueryCache().build(_(this,Le),e),n=this.createResult(r,e);return Iv(this,n)&&(R(this,Oe,n),R(this,Qn,this.options),R(this,Yr,_(this,q).state)),n}getCurrentResult(){return _(this,Oe)}trackResult(e,r){return new Proxy(e,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&_(this,Lt).status==="pending"&&_(this,Lt).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(e){_(this,Yn).add(e)}getCurrentQuery(){return _(this,q)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=_(this,Le).defaultQueryOptions(e),n=_(this,Le).getQueryCache().build(_(this,Le),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return B(this,V,Rs).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,Oe)))}createResult(e,r){var L;const n=_(this,q),s=this.options,i=_(this,Oe),o=_(this,Yr),a=_(this,Qn),u=e!==n?e.state:_(this,yi),{state:c}=e;let d={...c},h=!1,m;if(r._optimisticResults){const N=this.hasListeners(),Q=!N&&qd(e,r),Je=N&&Wd(e,n,r,s);(Q||Je)&&(d={...d,...lm(c.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:v,errorUpdatedAt:w,status:k}=d;m=d.data;let f=!1;if(r.placeholderData!==void 0&&m===void 0&&k==="pending"){let N;i!=null&&i.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData)?(N=i.data,f=!0):N=typeof r.placeholderData=="function"?r.placeholderData((L=_(this,Jn))==null?void 0:L.state.data,_(this,Jn)):r.placeholderData,N!==void 0&&(k="success",m=Hl(i==null?void 0:i.data,N,r),h=!0)}if(r.select&&m!==void 0&&!f)if(i&&m===(o==null?void 0:o.data)&&r.select===_(this,vi))m=_(this,Gn);else try{R(this,vi,r.select),m=r.select(m),m=Hl(i==null?void 0:i.data,m,r),R(this,Gn,m),R(this,ar,null)}catch(N){R(this,ar,N)}_(this,ar)&&(v=_(this,ar),m=_(this,Gn),w=Date.now(),k="error");const p=d.fetchStatus==="fetching",g=k==="pending",S=k==="error",b=g&&p,x=m!==void 0,C={status:k,fetchStatus:d.fetchStatus,isPending:g,isSuccess:k==="success",isError:S,isInitialLoading:b,isLoading:b,data:m,dataUpdatedAt:d.dataUpdatedAt,error:v,errorUpdatedAt:w,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:p,isRefetching:p&&!g,isLoadingError:S&&!x,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&x,isStale:yc(e,r),refetch:this.refetch,promise:_(this,Lt),isEnabled:Ze(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const N=C.data!==void 0,Q=C.status==="error"&&!N,Je=Rt=>{Q?Rt.reject(C.error):N&&Rt.resolve(C.data)},Ye=()=>{const Rt=R(this,Lt,C.promise=Ql());Je(Rt)},Ot=_(this,Lt);switch(Ot.status){case"pending":e.queryHash===n.queryHash&&Je(Ot);break;case"fulfilled":(Q||C.data!==Ot.value)&&Ye();break;case"rejected":(!Q||C.error!==Ot.reason)&&Ye();break}}return C}updateResult(){const e=_(this,Oe),r=this.createResult(_(this,q),this.options);if(R(this,Yr,_(this,q).state),R(this,Qn,this.options),_(this,Yr).data!==void 0&&R(this,Jn,_(this,q)),qo(r,e))return;R(this,Oe,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!_(this,Yn).size)return!0;const o=new Set(i??_(this,Yn));return this.options.throwOnError&&o.add("error"),Object.keys(_(this,Oe)).some(a=>{const l=a;return _(this,Oe)[l]!==e[l]&&o.has(l)})};B(this,V,um).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&B(this,V,Zl).call(this)}},Le=new WeakMap,q=new WeakMap,yi=new WeakMap,Oe=new WeakMap,Yr=new WeakMap,Qn=new WeakMap,Lt=new WeakMap,ar=new WeakMap,vi=new WeakMap,Gn=new WeakMap,Jn=new WeakMap,Xr=new WeakMap,Zr=new WeakMap,lr=new WeakMap,Yn=new WeakMap,V=new WeakSet,Rs=function(e){B(this,V,ru).call(this);let r=_(this,q).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(je)),r},Jl=function(){B(this,V,eu).call(this);const e=br(this.options.staleTime,_(this,q));if(un||_(this,Oe).isStale||!Kl(e))return;const n=rm(_(this,Oe).dataUpdatedAt,e)+1;R(this,Xr,Wr.setTimeout(()=>{_(this,Oe).isStale||this.updateResult()},n))},Yl=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,q)):this.options.refetchInterval)??!1},Xl=function(e){B(this,V,tu).call(this),R(this,lr,e),!(un||Ze(this.options.enabled,_(this,q))===!1||!Kl(_(this,lr))||_(this,lr)===0)&&R(this,Zr,Wr.setInterval(()=>{(this.options.refetchIntervalInBackground||gc.isFocused())&&B(this,V,Rs).call(this)},_(this,lr)))},Zl=function(){B(this,V,Jl).call(this),B(this,V,Xl).call(this,B(this,V,Yl).call(this))},eu=function(){_(this,Xr)&&(Wr.clearTimeout(_(this,Xr)),R(this,Xr,void 0))},tu=function(){_(this,Zr)&&(Wr.clearInterval(_(this,Zr)),R(this,Zr,void 0))},ru=function(){const e=_(this,Le).getQueryCache().build(_(this,Le),this.options);if(e===_(this,q))return;const r=_(this,q);R(this,q,e),R(this,yi,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},um=function(e){fe.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(_(this,Oe))}),_(this,Le).getQueryCache().notify({query:_(this,q),type:"observerResultsUpdated"})})},Uh);function Nv(t,e){return Ze(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function qd(t,e){return Nv(t,e)||t.state.data!==void 0&&nu(t,e,e.refetchOnMount)}function nu(t,e,r){if(Ze(e.enabled,t)!==!1&&br(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&yc(t,e)}return!1}function Wd(t,e,r,n){return(t!==e||Ze(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&yc(t,r)}function yc(t,e){return Ze(e.enabled,t)!==!1&&t.isStaleByTime(br(e.staleTime,t))}function Iv(t,e){return!qo(t.getCurrentResult(),e)}function Kd(t){return{onFetch:(e,r)=>{var c,d,h,m,v;const n=e.options,s=(h=(d=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let w=!1;const k=g=>{xv(g,()=>e.signal,()=>w=!0)},f=sm(e.options,e.fetchOptions),p=async(g,S,b)=>{if(w)return Promise.reject();if(S==null&&g.pages.length)return Promise.resolve(g);const P=(()=>{const Q={client:e.client,queryKey:e.queryKey,pageParam:S,direction:b?"backward":"forward",meta:e.options.meta};return k(Q),Q})(),C=await f(P),{maxPages:L}=e.options,N=b?bv:Ev;return{pages:N(g.pages,C,L),pageParams:N(g.pageParams,S,L)}};if(s&&i.length){const g=s==="backward",S=g?Lv:Vd,b={pages:i,pageParams:o},x=S(n,b);a=await p(b,x,g)}else{const g=t??i.length;do{const S=l===0?o[0]??n.initialPageParam:Vd(n,a);if(l>0&&S==null)break;a=await p(a,S),l++}while(l<g)}return a};e.options.persister?e.fetchFn=()=>{var w,k;return(k=(w=e.options).persister)==null?void 0:k.call(w,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function Vd(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Lv(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var wi,kt,Ce,en,Et,Jt,$h,Uv=($h=class extends am{constructor(e){super();I(this,Et);I(this,wi);I(this,kt);I(this,Ce);I(this,en);R(this,wi,e.client),this.mutationId=e.mutationId,R(this,Ce,e.mutationCache),R(this,kt,[]),this.state=e.state||cm(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){_(this,kt).includes(e)||(_(this,kt).push(e),this.clearGcTimeout(),_(this,Ce).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){R(this,kt,_(this,kt).filter(r=>r!==e)),this.scheduleGc(),_(this,Ce).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){_(this,kt).length||(this.state.status==="pending"?this.scheduleGc():_(this,Ce).remove(this))}continue(){var e;return((e=_(this,en))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,u,c,d,h,m,v,w,k,f,p,g,S,b,x,P;const r=()=>{B(this,Et,Jt).call(this,{type:"continue"})},n={client:_(this,wi),meta:this.options.meta,mutationKey:this.options.mutationKey};R(this,en,om({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(C,L)=>{B(this,Et,Jt).call(this,{type:"failed",failureCount:C,error:L})},onPause:()=>{B(this,Et,Jt).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,Ce).canRun(this)}));const s=this.state.status==="pending",i=!_(this,en).canStart();try{if(s)r();else{B(this,Et,Jt).call(this,{type:"pending",variables:e,isPaused:i}),_(this,Ce).config.onMutate&&await _(this,Ce).config.onMutate(e,this,n);const L=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e,n));L!==this.state.context&&B(this,Et,Jt).call(this,{type:"pending",context:L,variables:e,isPaused:i})}const C=await _(this,en).start();return await((u=(l=_(this,Ce).config).onSuccess)==null?void 0:u.call(l,C,e,this.state.context,this,n)),await((d=(c=this.options).onSuccess)==null?void 0:d.call(c,C,e,this.state.context,n)),await((m=(h=_(this,Ce).config).onSettled)==null?void 0:m.call(h,C,null,this.state.variables,this.state.context,this,n)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,C,null,e,this.state.context,n)),B(this,Et,Jt).call(this,{type:"success",data:C}),C}catch(C){try{await((f=(k=_(this,Ce).config).onError)==null?void 0:f.call(k,C,e,this.state.context,this,n))}catch(L){Promise.reject(L)}try{await((g=(p=this.options).onError)==null?void 0:g.call(p,C,e,this.state.context,n))}catch(L){Promise.reject(L)}try{await((b=(S=_(this,Ce).config).onSettled)==null?void 0:b.call(S,void 0,C,this.state.variables,this.state.context,this,n))}catch(L){Promise.reject(L)}try{await((P=(x=this.options).onSettled)==null?void 0:P.call(x,void 0,C,e,this.state.context,n))}catch(L){Promise.reject(L)}throw B(this,Et,Jt).call(this,{type:"error",error:C}),C}finally{_(this,Ce).runNext(this)}}},wi=new WeakMap,kt=new WeakMap,Ce=new WeakMap,en=new WeakMap,Et=new WeakSet,Jt=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),fe.batch(()=>{_(this,kt).forEach(n=>{n.onMutationUpdate(e)}),_(this,Ce).notify({mutation:this,type:"updated",action:e})})},$h);function cm(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ut,ht,_i,Dh,$v=(Dh=class extends hs{constructor(e={}){super();I(this,Ut);I(this,ht);I(this,_i);this.config=e,R(this,Ut,new Set),R(this,ht,new Map),R(this,_i,0)}build(e,r,n){const s=new Uv({client:e,mutationCache:this,mutationId:++Ai(this,_i)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){_(this,Ut).add(e);const r=Ji(e);if(typeof r=="string"){const n=_(this,ht).get(r);n?n.push(e):_(this,ht).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(_(this,Ut).delete(e)){const r=Ji(e);if(typeof r=="string"){const n=_(this,ht).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&_(this,ht).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Ji(e);if(typeof r=="string"){const n=_(this,ht).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=Ji(e);if(typeof r=="string"){const s=(n=_(this,ht).get(r))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){fe.batch(()=>{_(this,Ut).forEach(e=>{this.notify({type:"removed",mutation:e})}),_(this,Ut).clear(),_(this,ht).clear()})}getAll(){return Array.from(_(this,Ut))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Dd(r,n))}findAll(e={}){return this.getAll().filter(r=>Dd(e,r))}notify(e){fe.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return fe.batch(()=>Promise.all(e.map(r=>r.continue().catch(je))))}},Ut=new WeakMap,ht=new WeakMap,_i=new WeakMap,Dh);function Ji(t){var e;return(e=t.options.scope)==null?void 0:e.id}var $t,ur,Ue,Dt,zt,yo,su,Fh,Dv=(Fh=class extends hs{constructor(r,n){super();I(this,zt);I(this,$t);I(this,ur);I(this,Ue);I(this,Dt);R(this,$t,r),this.setOptions(n),this.bindMethods(),B(this,zt,yo).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=_(this,$t).defaultMutationOptions(r),qo(this.options,n)||_(this,$t).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_(this,Ue),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&cn(n.mutationKey)!==cn(this.options.mutationKey)?this.reset():((s=_(this,Ue))==null?void 0:s.state.status)==="pending"&&_(this,Ue).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=_(this,Ue))==null||r.removeObserver(this)}onMutationUpdate(r){B(this,zt,yo).call(this),B(this,zt,su).call(this,r)}getCurrentResult(){return _(this,ur)}reset(){var r;(r=_(this,Ue))==null||r.removeObserver(this),R(this,Ue,void 0),B(this,zt,yo).call(this),B(this,zt,su).call(this)}mutate(r,n){var s;return R(this,Dt,n),(s=_(this,Ue))==null||s.removeObserver(this),R(this,Ue,_(this,$t).getMutationCache().build(_(this,$t),this.options)),_(this,Ue).addObserver(this),_(this,Ue).execute(r)}},$t=new WeakMap,ur=new WeakMap,Ue=new WeakMap,Dt=new WeakMap,zt=new WeakSet,yo=function(){var n;const r=((n=_(this,Ue))==null?void 0:n.state)??cm();R(this,ur,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},su=function(r){fe.batch(()=>{var n,s,i,o,a,l,u,c;if(_(this,Dt)&&this.hasListeners()){const d=_(this,ur).variables,h=_(this,ur).context,m={client:_(this,$t),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(s=(n=_(this,Dt)).onSuccess)==null||s.call(n,r.data,d,h,m)}catch(v){Promise.reject(v)}try{(o=(i=_(this,Dt)).onSettled)==null||o.call(i,r.data,null,d,h,m)}catch(v){Promise.reject(v)}}else if((r==null?void 0:r.type)==="error"){try{(l=(a=_(this,Dt)).onError)==null||l.call(a,r.error,d,h,m)}catch(v){Promise.reject(v)}try{(c=(u=_(this,Dt)).onSettled)==null||c.call(u,void 0,r.error,d,h,m)}catch(v){Promise.reject(v)}}}this.listeners.forEach(d=>{d(_(this,ur))})})},Fh),bt,Mh,Fv=(Mh=class extends hs{constructor(e={}){super();I(this,bt);this.config=e,R(this,bt,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??fc(s,r);let o=this.get(i);return o||(o=new jv({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){_(this,bt).has(e.queryHash)||(_(this,bt).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=_(this,bt).get(e.queryHash);r&&(e.destroy(),r===e&&_(this,bt).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){fe.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return _(this,bt).get(e)}getAll(){return[..._(this,bt).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>$d(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>$d(e,n)):r}notify(e){fe.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){fe.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){fe.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},bt=new WeakMap,Mh),ne,cr,dr,Xn,Zn,hr,es,ts,Bh,Mv=(Bh=class{constructor(t={}){I(this,ne);I(this,cr);I(this,dr);I(this,Xn);I(this,Zn);I(this,hr);I(this,es);I(this,ts);R(this,ne,t.queryCache||new Fv),R(this,cr,t.mutationCache||new $v),R(this,dr,t.defaultOptions||{}),R(this,Xn,new Map),R(this,Zn,new Map),R(this,hr,0)}mount(){Ai(this,hr)._++,_(this,hr)===1&&(R(this,es,gc.subscribe(async t=>{t&&(await this.resumePausedMutations(),_(this,ne).onFocus())})),R(this,ts,Wo.subscribe(async t=>{t&&(await this.resumePausedMutations(),_(this,ne).onOnline())})))}unmount(){var t,e;Ai(this,hr)._--,_(this,hr)===0&&((t=_(this,es))==null||t.call(this),R(this,es,void 0),(e=_(this,ts))==null||e.call(this),R(this,ts,void 0))}isFetching(t){return _(this,ne).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return _(this,cr).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=_(this,ne).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=_(this,ne).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(br(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return _(this,ne).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=_(this,ne).get(n.queryHash),i=s==null?void 0:s.state.data,o=_v(e,i);if(o!==void 0)return _(this,ne).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return fe.batch(()=>_(this,ne).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=_(this,ne).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=_(this,ne);fe.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=_(this,ne);return fe.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=fe.batch(()=>_(this,ne).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(je).catch(je)}invalidateQueries(t,e={}){return fe.batch(()=>(_(this,ne).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=fe.batch(()=>_(this,ne).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(je)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(je)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=_(this,ne).build(this,e);return r.isStaleByTime(br(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(je).catch(je)}fetchInfiniteQuery(t){return t.behavior=Kd(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(je).catch(je)}ensureInfiniteQueryData(t){return t.behavior=Kd(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Wo.isOnline()?_(this,cr).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,ne)}getMutationCache(){return _(this,cr)}getDefaultOptions(){return _(this,dr)}setDefaultOptions(t){R(this,dr,t)}setQueryDefaults(t,e){_(this,Xn).set(cn(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[..._(this,Xn).values()],r={};return e.forEach(n=>{oi(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){_(this,Zn).set(cn(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[..._(this,Zn).values()],r={};return e.forEach(n=>{oi(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={..._(this,dr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=fc(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===pc&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{..._(this,dr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){_(this,ne).clear(),_(this,cr).clear()}},ne=new WeakMap,cr=new WeakMap,dr=new WeakMap,Xn=new WeakMap,Zn=new WeakMap,hr=new WeakMap,es=new WeakMap,ts=new WeakMap,Bh),dm=E.createContext(void 0),ot=t=>{const e=E.useContext(dm);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Bv=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),y.jsx(dm.Provider,{value:t,children:e})),hm=E.createContext(!1),zv=()=>E.useContext(hm);hm.Provider;function qv(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Wv=E.createContext(qv()),Kv=()=>E.useContext(Wv),Vv=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?mc(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},Hv=t=>{E.useEffect(()=>{t.clearReset()},[t])},Qv=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(s&&t.data===void 0||mc(r,[t.error,n])),Gv=t=>{if(t.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Jv=(t,e)=>t.isLoading&&t.isFetching&&!e,Yv=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Hd=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Xv(t,e,r){var h,m,v,w;const n=zv(),s=Kv(),i=ot(),o=i.defaultQueryOptions(t);(m=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o);const a=i.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",Gv(o),Vv(o,s,a),Hv(s);const l=!i.getQueryCache().get(o.queryHash),[u]=E.useState(()=>new e(i,o)),c=u.getOptimisticResult(o),d=!n&&t.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(k=>{const f=d?u.subscribe(fe.batchCalls(k)):je;return u.updateResult(),f},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),E.useEffect(()=>{u.setOptions(o)},[o,u]),Yv(o,c))throw Hd(o,u,s);if(Qv({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:a,suspense:o.suspense}))throw c.error;if((w=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||w.call(v,o,c),o.experimental_prefetchInRender&&!un&&Jv(c,n)){const k=l?Hd(o,u,s):a==null?void 0:a.promise;k==null||k.catch(je).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?c:u.trackResult(c)}function fn(t,e){return Xv(t,Av)}function wt(t,e){const r=ot(),[n]=E.useState(()=>new Dv(r,t));E.useEffect(()=>{n.setOptions(t)},[n,t]);const s=E.useSyncExternalStore(E.useCallback(o=>n.subscribe(fe.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=E.useCallback((o,a)=>{n.mutate(o,a).catch(je)},[n]);if(s.error&&mc(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function da(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Zv(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}const ew=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class vc extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class tw extends vc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Qd extends vc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Gd extends vc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var iu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(iu||(iu={}));class rw{constructor(e,{headers:r={},customFetch:n,region:s=iu.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=ew(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Zv(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:d}=n;let h={},{region:m}=n;m||(m=this.region);const v=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,v.searchParams.set("forceFunctionRegion",m));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(h["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(h["Content-Type"]="application/json",w=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?w=JSON.stringify(u):w=u;let k=c;d&&(o=new AbortController,i=setTimeout(()=>o.abort(),d),c?(k=o.signal,c.addEventListener("abort",()=>o.abort())):k=o.signal);const f=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:w,signal:k}).catch(b=>{throw new tw(b)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new Qd(f);if(!f.ok)throw new Gd(f);let g=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return g==="application/json"?S=yield f.json():g==="application/octet-stream"||g==="application/pdf"?S=yield f.blob():g==="text/event-stream"?S=f:g==="multipart/form-data"?S=yield f.formData():S=yield f.text(),{data:S,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof Gd||a instanceof Qd?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var nw=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},sw=class{constructor(t){var e,r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=t.urlLengthLimit)!==null&&n!==void 0?n:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,c=i.statusText;if(i.ok){var d,h;if(r.method!=="HEAD"){var m;const f=await i.text();f===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?a=f:a=JSON.parse(f))}const w=(d=r.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),k=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&k&&k.length>1&&(l=parseInt(k[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var v;const w=await i.text();try{o=JSON.parse(w),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,c="OK")}catch{i.status===404&&w===""?(u=204,c="No Content"):o={message:w}}if(o&&r.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&r.shouldThrowOnError)throw new nw(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="",l="",u="";const c=i==null?void 0:i.cause;if(c){var d,h,m,v;const f=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",p=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";a=`${(m=i==null?void 0:i.name)!==null&&m!==void 0?m:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(v=c==null?void 0:c.name)!==null&&v!==void 0?v:"Error"}: ${f}`,p&&(a+=` (${p})`),c!=null&&c.stack&&(a+=`
${c.stack}`)}else{var w;a=(w=i==null?void 0:i.stack)!==null&&w!==void 0?w:""}const k=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",k>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${k} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((c==null?void 0:c.name)==="HeadersOverflowError"||(c==null?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",k>this.urlLengthLimit&&(l+=`. Your request URL is ${k} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},iw=class extends sw{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Jd=new RegExp("[,()]");var Sn=class extends iw{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Jd.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Jd.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},ow=class{constructor(t,{headers:e={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),n&&l.append("Prefer",`count=${n}`),new Sn({method:s,url:a,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),r||o.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new Sn({method:s,url:i,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&a.searchParams.set("on_conflict",e),n&&l.append("Prefer",`count=${n}`),s||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);a.searchParams.set("columns",c.join(","))}}return new Sn({method:o,url:a,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Sn({method:n,url:s,headers:i,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Sn({method:r,url:n,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function ai(t){"@babel/helpers - typeof";return ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ai(t)}function aw(t,e){if(ai(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ai(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lw(t){var e=aw(t,"string");return ai(e)=="symbol"?e:e+""}function uw(t,e,r){return(e=lw(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Yi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yd(Object(r),!0).forEach(function(n){uw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yd(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var cw=class fm{constructor(e,{headers:r={},schema:n,fetch:s,timeout:i,urlLengthLimit:o=8e3}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=o;const a=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(l,u)=>{const c=new AbortController,d=setTimeout(()=>c.abort(),i),h=u==null?void 0:u.signal;if(h){if(h.aborted)return clearTimeout(d),a(l,u);const m=()=>{clearTimeout(d),c.abort()};return h.addEventListener("abort",m,{once:!0}),a(l,Yi(Yi({},u),{},{signal:c.signal})).finally(()=>{clearTimeout(d),h.removeEventListener("abort",m)})}return a(l,Yi(Yi({},u),{},{signal:c.signal})).finally(()=>clearTimeout(d))}:this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new ow(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new fm(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;const c=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(c)),d=n&&Object.values(r).some(c);d?(a="POST",u=r):n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{l.searchParams.append(m,v)})):(a="POST",u=r);const h=new Headers(this.headers);return d?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new Sn({method:a,url:l,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class dw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const hw="2.95.3",fw=`realtime-js/${hw}`,pw="1.0.0",pm="2.0.0",Xd=pm,ou=1e4,mw=1e3,gw=100;var er;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(er||(er={}));var de;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(de||(de={}));var pt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(pt||(pt={}));var au;(function(t){t.websocket="websocket"})(au||(au={}));var Fr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Fr||(Fr={}));class yw{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var s,i;const o=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+d.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(m),w=0;v.setUint8(w++,this.KINDS.userBroadcastPush),v.setUint8(w++,l.length),v.setUint8(w++,a.length),v.setUint8(w++,o.length),v.setUint8(w++,u.length),v.setUint8(w++,d.length),v.setUint8(w++,r),Array.from(l,f=>v.setUint8(w++,f.charCodeAt(0))),Array.from(a,f=>v.setUint8(w++,f.charCodeAt(0))),Array.from(o,f=>v.setUint8(w++,f.charCodeAt(0))),Array.from(u,f=>v.setUint8(w++,f.charCodeAt(0))),Array.from(d,f=>v.setUint8(w++,f.charCodeAt(0)));var k=new Uint8Array(m.byteLength+n.byteLength);return k.set(new Uint8Array(m),0),k.set(new Uint8Array(n),m.byteLength),k.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+s));l=l+s;const c=n.decode(e.slice(l,l+i));l=l+i;const d=n.decode(e.slice(l,l+o));l=l+o;const h=e.slice(l,e.byteLength),m=a===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,v={type:this.BROADCAST_EVENT,event:c,payload:m};return o>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class mm{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var G;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(G||(G={}));const Zd=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=vw(o,t,e,s),i),{}):{}},vw=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?gm(i,o):lu(o)},gm=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return kw(e,r)}switch(t){case G.bool:return ww(e);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return _w(e);case G.json:case G.jsonb:return Sw(e);case G.timestamp:return Ew(e);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return lu(e);default:return lu(e)}},lu=t=>t,ww=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},_w=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Sw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},kw=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>gm(e,a))}return t},Ew=t=>typeof t=="string"?t.replace(" ","T"):t,ym=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Wa{constructor(e,r,n={},s=ou){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var eh;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(eh||(eh={}));class Bs{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bs.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Bs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Bs.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const h=c.map(k=>k.presence_ref),m=d.map(k=>k.presence_ref),v=c.filter(k=>m.indexOf(k.presence_ref)<0),w=d.filter(k=>h.indexOf(k.presence_ref)<0);v.length>0&&(a[u]=v),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(m=>m.presence_ref),h=c.filter(m=>d.indexOf(m.presence_ref)<0);e[a].unshift(...h)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var th;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(th||(th={}));var zs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(zs||(zs={}));var Nt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Nt||(Nt={}));class Un{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=de.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Wa(this,pt.join,this.params,this.timeout),this.rejoinTimer=new mm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=de.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=de.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Bs(this),this.broadcastEndpointURL=ym(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==de.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[zs.PRESENCE]&&this.bindings[zs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(Nt.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Nt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(Nt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,k=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,f=[];for(let p=0;p<k;p++){const g=w[p],{filter:{event:S,schema:b,table:x,filter:P}}=g,C=m&&m[p];if(C&&C.event===S&&Un.isFilterValueEqual(C.schema,b)&&Un.isFilterValueEqual(C.table,x)&&Un.isFilterValueEqual(C.filter,P))f.push(Object.assign(Object.assign({},g),{id:C.id}));else{this.unsubscribe(),this.state=de.errored,e==null||e(Nt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,e&&e(Nt.SUBSCRIBED);return}}).receive("error",m=>{this.state=de.errored,e==null||e(Nt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Nt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===de.joined&&e===zs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=de.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Wa(this,pt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=de.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Wa(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>gw){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=pt;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,w,k;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((k=(w=m.filter)===null||w===void 0?void 0:w.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var v,w,k,f,p,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,b=(v=m.filter)===null||v===void 0?void 0:v.event;return S&&((w=r.ids)===null||w===void 0?void 0:w.includes(S))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const S=(p=(f=m==null?void 0:m.filter)===null||f===void 0?void 0:f.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return S==="*"||S===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:w,table:k,commit_timestamp:f,type:p,errors:g}=v;h=Object.assign(Object.assign({},{schema:w,table:k,commit_timestamp:f,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(v))}m.callback(h,n)})}_isClosed(){return this.state===de.closed}_isJoined(){return this.state===de.joined}_isJoining(){return this.state===de.joining}_isLeaving(){return this.state===de.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Un.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(pt.close,{},e)}_onError(e){this._on(pt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=de.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Zd(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Zd(e.columns,e.old_record)),r}}const Ka=()=>{},Xi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},bw=[1e3,2e3,5e3,1e4],xw=1e4,Cw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Tw{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ou,this.transport=null,this.heartbeatIntervalMs=Xi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ka,this.ref=0,this.reconnectTimer=null,this.vsn=Xd,this.logger=Ka,this.conn=null,this.sendBuffer=[],this.serializer=new yw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${au.websocket}`,this.httpEndpoint=ym(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return r==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case er.connecting:return Fr.Connecting;case er.open:return Fr.Open;case er.closing:return Fr.Closing;default:return Fr.Closed}}isConnected(){return this.connectionState()===Fr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Un(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(mw,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Xi.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===er.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===er.open||this.conn.readyState===er.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(pt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Cw],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:fw};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(pt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new mm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,u,c,d,h,m;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:ou,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Xi.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Ka,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Xd,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>bw[v-1]||xw,this.vsn){case pw:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(v,w)=>w(JSON.stringify(v)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(v,w)=>w(JSON.parse(v));break;case pm:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var li=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Pw(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function Ow(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Rw(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=Pw(t.baseUrl,n,s),l=await Ow(t.auth),u=await e(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const m=d?h:void 0,v=m==null?void 0:m.error;throw new li((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function Zi(t){return t.join("")}var jw=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Zi(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zi(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zi(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zi(t.namespace)}`}),!0}catch(e){if(e instanceof li&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof li&&r.status===409)return;throw r}}};function mn(t){return t.join("")}var Aw=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mn(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mn(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mn(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mn(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mn(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mn(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof li&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof li&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},Nw=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Rw({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new jw(this.client,e),this.tableOps=new Aw(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},ha=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function fa(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var eo=class extends ha{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},vm=class extends ha{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const Iw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Lw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},uu=t=>{if(Array.isArray(t))return t.map(r=>uu(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=uu(n)}),e},Uw=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function ui(t){"@babel/helpers - typeof";return ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ui(t)}function $w(t,e){if(ui(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ui(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dw(t){var e=$w(t,"string");return ui(e)=="symbol"?e:e+""}function Fw(t,e,r){return(e=Dw(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rh(Object(r),!0).forEach(function(n){Fw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rh(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const nh=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Mw=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new eo(nh(o),i,a,n))}).catch(()=>{if(n==="vectors"){const o=i+"";e(new eo(s.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";e(new eo(s.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";e(new eo(s.statusText||`HTTP ${i} error`,i,o,n))}}else e(new vm(nh(t),t,n))},Bw=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!n?F(F({},s),r):(Lw(n)?(s.headers=F({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),F(F({},s),r))};async function xs(t,e,r,n,s,i,o){return new Promise((a,l)=>{t(r,Bw(e,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>a(u)).catch(u=>Mw(u,l,n,o))})}function wm(t="storage"){return{get:async(e,r,n,s)=>xs(e,"GET",r,n,s,void 0,t),post:async(e,r,n,s,i)=>xs(e,"POST",r,s,i,n,t),put:async(e,r,n,s,i)=>xs(e,"PUT",r,s,i,n,t),head:async(e,r,n,s)=>xs(e,"HEAD",r,F(F({},n),{},{noResolveJson:!0}),s,void 0,t),remove:async(e,r,n,s,i)=>xs(e,"DELETE",r,s,i,n,t)}}const zw=wm("storage"),{get:ci,post:ct,put:cu,head:qw,remove:wc}=zw,We=wm("vectors");var fs=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=Iw(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(fa(r))return{data:null,error:r};throw r}}},Ww=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(fa(e))return{data:null,error:e};throw e}}};let _m;_m=Symbol.toStringTag;var Kw=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[_m]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ww(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(fa(e))return{data:null,error:e};throw e}}};const Vw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Hw=class extends fs{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var s=this;return s.handleOperation(async()=>{let i;const o=F(F({},sh),n);let a=F(F({},s.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(a=F(F({},a),n.headers));const u=s._removeEmptyFolders(e),c=s._getFinalPath(u),d=await(t=="PUT"?cu:ct)(s.fetch,`${s.url}/object/${c}`,i,F({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:d.Id,fullPath:d.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const i=s._removeEmptyFolders(t),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",e),s.handleOperation(async()=>{let l;const u=F({upsert:sh.upsert},n),c=F(F({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:i,fullPath:(await cu(s.fetch,a.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const s=F({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await ct(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),a=o.searchParams.get("token");if(!a)throw new ha("No token returned by API");return{signedUrl:o.toString(),path:t,token:a}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await ct(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await ct(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(t),i=await ct(n.fetch,`${n.url}/object/sign/${s}`,F({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const s=await ct(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(o=>F(F({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(t,e,r){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=s?`?${s}`:"",o=this._getFinalPath(t),a=()=>ci(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0},r);return new Kw(a,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>uu(await ci(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await qw(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fa(n)&&n instanceof vm){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&n.push(o);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await wc(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const s=F(F(F({},Vw),e),{},{prefix:t||""});return await ct(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=F({},t);return await ct(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Qw="2.95.3",Ci={"X-Client-Info":`storage-js/${Qw}`};var Gw=class extends fs{constructor(t,e={},r,n){const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=F(F({},Ci),e);super(i,o,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await ci(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await ci(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await ct(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await cu(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await ct(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await wc(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Jw=class extends fs{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=F(F({},Ci),e);super(n,s,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await ct(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await ci(e.fetch,s,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await wc(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!Uw(t))throw new ha("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Nw({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},Yw=class extends fs{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=F(F({},Ci),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await We.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await We.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await We.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await We.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},Xw=class extends fs{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=F(F({},Ci),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await We.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await We.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await We.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await We.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await We.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},Zw=class extends fs{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=F(F({},Ci),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await We.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await We.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await We.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await We.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},e0=class extends Zw{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new t0(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},t0=class extends Yw{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,F(F({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,F(F({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new r0(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},r0=class extends Xw{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,F(F({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,F(F({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,F(F({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,F(F({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,F(F({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},n0=class extends Gw{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new Hw(this.url,this.headers,t,this.fetch)}get vectors(){return new e0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Jw(this.url+"/iceberg",this.headers,this.fetch)}};const Sm="2.95.3",kn=30*1e3,du=3,Va=du*kn,s0="http://localhost:9999",i0="supabase.auth.token",o0={"X-Client-Info":`gotrue-js/${Sm}`},hu="X-Supabase-Api-Version",km={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},a0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,l0=10*60*1e3;class di extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function A(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class u0 extends di{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function c0(t){return A(t)&&t.name==="AuthApiError"}class Mr extends di{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Qt extends di{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class ze extends Qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ha(t){return A(t)&&t.name==="AuthSessionMissingError"}class gn extends Qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class to extends Qt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ro extends Qt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function d0(t){return A(t)&&t.name==="AuthImplicitGrantRedirectError"}class ih extends Qt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class h0 extends Qt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class fu extends Qt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Qa(t){return A(t)&&t.name==="AuthRetryableFetchError"}class oh extends Qt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class pu extends Qt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ko="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ah=` 	
\r=`.split(""),f0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ah.length;e+=1)t[ah[e].charCodeAt(0)]=-2;for(let e=0;e<Ko.length;e+=1)t[Ko[e].charCodeAt(0)]=e;return t})();function lh(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ko[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ko[n]),e.queuedBits-=6}}function Em(t,e,r){const n=f0[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function uh(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{g0(o,n,r)};for(let o=0;o<t.length;o+=1)Em(t.charCodeAt(o),s,i);return e.join("")}function p0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function m0(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}p0(n,e)}}function g0(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function qn(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Em(t.charCodeAt(s),r,n);return new Uint8Array(e)}function y0(t){const e=[];return m0(t,r=>e.push(r)),new Uint8Array(e)}function Kr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>lh(s,r,n)),lh(null,r,n),e.join("")}function v0(t){return Math.round(Date.now()/1e3)+t}function w0(){return Symbol("auth-callback")}const _e=()=>typeof window<"u"&&typeof document<"u",Ir={tested:!1,writable:!1},bm=()=>{if(!_e())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ir.tested)return Ir.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ir.tested=!0,Ir.writable=!0}catch{Ir.tested=!0,Ir.writable=!1}return Ir.writable};function _0(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const xm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),S0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",En=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Lr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},we=async(t,e)=>{await t.removeItem(e)};class pa{constructor(){this.promise=new pa.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}pa.promiseConstructor=Promise;function no(t){const e=t.split(".");if(e.length!==3)throw new pu("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!a0.test(e[n]))throw new pu("JWT not in base64url format");return{header:JSON.parse(uh(e[0])),payload:JSON.parse(uh(e[1])),signature:qn(e[2]),raw:{header:e[0],payload:e[1]}}}async function k0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function E0(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function b0(t){return("0"+t.toString(16)).substr(-2)}function x0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,b0).join("")}async function C0(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function T0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await C0(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yn(t,e,r=!1){const n=x0();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await En(t,`${e}-code-verifier`,s);const i=await T0(n);return[i,n===i?"plain":"s256"]}const P0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function O0(t){const e=t.headers.get(hu);if(!e||!e.match(P0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function R0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function j0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const A0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vn(t){if(!A0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ga(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function N0(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function ch(t){return JSON.parse(JSON.stringify(t))}const Dr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),I0=[502,503,504];async function dh(t){var e;if(!S0(t))throw new fu(Dr(t),0);if(I0.includes(t.status))throw new fu(Dr(t),t.status);let r;try{r=await t.json()}catch(i){throw new Mr(Dr(i),i)}let n;const s=O0(t);if(s&&s.getTime()>=km["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new oh(Dr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ze}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new oh(Dr(r),t.status,r.weak_password.reasons);throw new u0(Dr(r),t.status||500,n)}const L0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function D(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[hu]||(i[hu]=km["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await U0(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function U0(t,e,r,n,s,i){const o=L0(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new fu(Dr(l),0)}if(a.ok||await dh(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await dh(l)}}function lt(t){var e;let r=null;F0(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=v0(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function hh(t){const e=lt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function nr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function $0(t){return{data:t,error:null}}function D0(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=da(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function fh(t){return t}function F0(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ja=["global","local","others"];class M0{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=xm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Ja[0]){if(Ja.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ja.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:nr})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=da(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:D0,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(A(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:nr})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:fh});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(v.split(";")[1].split("=")[1]);u[`${k}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(A(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){vn(e);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:nr})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){vn(e);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:nr})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){vn(e);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:nr})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){vn(e.userId);try{const{data:r,error:n}=await D(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _deleteFactor(e){vn(e.userId),vn(e.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await D(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:fh});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(v.split(";")[1].split("=")[1]);u[`${k}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(A(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await D(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await D(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await D(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}}function ph(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const wn={debug:!!(globalThis&&bm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cm extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class B0 extends Cm{}async function z0(t,e,r){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),wn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new B0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(wn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function q0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Tm(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function W0(t){return parseInt(t,16)}function K0(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function V0(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=Tm(t.address),v=c?`${c}://${n}`:n,w=t.statement?`${t.statement}
`:"",k=`${v} wants you to sign in with your Ethereum account:
${m}

${w}`;let f=`URI: ${d}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(f+=`
Expiration Time: ${s.toISOString()}`),a&&(f+=`
Not Before: ${a.toISOString()}`),l&&(f+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);p+=`
- ${g}`}f+=p}return`${k}
${f}`}class ue extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Vo extends ue{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function H0({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ue({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ue({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ue({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ue({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ue({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ue({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ue({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ue({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Pm(o)){if(i.rp.id!==o)return new ue({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ue({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ue({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Q0({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ue({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ue({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Pm(n)){if(r.rpId!==n)return new ue({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ue({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class G0{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const J0=new G0;function Y0(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=da(t,["challenge","user","excludeCredentials"]),i=qn(e).buffer,o=Object.assign(Object.assign({},r),{id:qn(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:qn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function X0(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=da(t,["challenge","allowCredentials"]),s=qn(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:qn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Z0(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Kr(new Uint8Array(t.response.attestationObject)),clientDataJSON:Kr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function e_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Kr(new Uint8Array(s.authenticatorData)),clientDataJSON:Kr(new Uint8Array(s.clientDataJSON)),signature:Kr(new Uint8Array(s.signature)),userHandle:s.userHandle?Kr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Pm(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function mh(){var t,e;return!!(_e()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function t_(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vo("Browser returned unexpected credential type",e)}:{data:null,error:new Vo("Empty credential response",e)}}catch(e){return{data:null,error:H0({error:e,options:t})}}}async function r_(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vo("Browser returned unexpected credential type",e)}:{data:null,error:new Vo("Empty credential response",e)}}catch(e){return{data:null,error:Q0({error:e,options:t})}}}const n_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},s_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ho(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=Ho(a,o):n[i]=Ho(o)}else n[i]=o}return n}function i_(t,e){return Ho(n_,t,e||{})}function o_(t,e){return Ho(s_,t,e||{})}class a_{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){var o;try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:l};const u=s??J0.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;if(!c.name){const d=n;if(d)c.name=`${c.id}:${d}`;else{const m=(await this.client.getUser()).data.user,v=((o=m==null?void 0:m.user_metadata)===null||o===void 0?void 0:o.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";c.name=`${c.id}:${v}`}}c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=i_(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await t_({publicKey:c,signal:u});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=o_(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await r_(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:u}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return A(a)?{data:null,error:a}:{data:null,error:new Mr("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new di("rpId is required for WebAuthn authentication")};try{if(!mh())return{data:null,error:new Mr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return A(o)?{data:null,error:o}:{data:null,error:new Mr("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new di("rpId is required for WebAuthn registration")};try{if(!mh())return{data:null,error:new Mr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return A(o)?{data:null,error:o}:{data:null,error:new Mr("Unexpected error in register",o)}}}}q0();const l_={url:s0,storageKey:i0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:o0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function gh(t,e,r){return await r()}const _n={};class hi{get jwks(){var e,r;return(r=(e=_n[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){_n[this.storageKey]=Object.assign(Object.assign({},_n[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=_n[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){_n[this.storageKey]=Object.assign(Object.assign({},_n[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},l_),e);if(this.storageKey=i.storageKey,this.instanceID=(r=hi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,hi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&_e()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new M0({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=xm(i.fetch),this.lock=i.lock||gh,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&_e()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=z0:this.lock=gh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new a_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:bm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ph(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=ph(this.memoryStorage)),_e()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Sm}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(_e()&&(r=_0(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),_e()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),d0(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return A(r)?this._returnResult({error:r}):this._returnResult({error:new Mr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:lt}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(A(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:c,password:d,options:h}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await yn(this.storage,this.storageKey)),i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:lt})}else if("phone"in e){const{phone:c,password:d,options:h}=e;i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:lt})}else throw new to("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await we(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await we(this.storage,`${this.storageKey}-code-verifier`),A(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:hh})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:hh})}else throw new to("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new gn;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,u,c,d,h;let m,v;if("message"in e)m=e.message,v=e.signature;else{const{chain:w,wallet:k,statement:f,options:p}=e;let g;if(_e())if(typeof k=="object")g=k;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")g=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=k}const S=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),b=await g.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||b.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const x=Tm(b[0]);let P=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const L=await g.request({method:"eth_chainId"});P=W0(L)}const C={domain:S.host,address:x,statement:f,uri:S.href,version:"1",chainId:P,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=V0(C),v=await g.request({method:"personal_sign",params:[K0(m),x]})}try{const{data:w,error:k}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:lt});if(k)throw k;if(!w||!w.session||!w.user){const f=new gn;return this._returnResult({data:{user:null,session:null},error:f})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:k})}catch(w){if(A(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,s,i,o,a,l,u,c,d,h,m;let v,w;if("message"in e)v=e.message,w=e.signature;else{const{chain:k,wallet:f,statement:p,options:g}=e;let S;if(_e())if(typeof f=="object")S=f;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))S=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof f!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=f}const b=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const x=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),p?{statement:p}:null));let P;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")P=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)P=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)v=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),w=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${b.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((d=(c=g==null?void 0:g.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...g.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const x=await S.signMessage(new TextEncoder().encode(v),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=x}}try{const{data:k,error:f}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Kr(w)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:lt});if(f)throw f;if(!k||!k.session||!k.user){const p=new gn;return this._returnResult({data:{user:null,session:null},error:p})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:f})}catch(k){if(A(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const r=await Lr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new h0;const{data:i,error:o}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:lt});if(await we(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new gn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await we(this.storage,`${this.storageKey}-code-verifier`),A(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:lt}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new gn;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await yn(this.storage,this.storageKey));const{error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new to("You must provide either an email or phone number.")}catch(a){if(await we(this.storage,`${this.storageKey}-code-verifier`),A(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:lt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await yn(this.storage,this.storageKey));const u=await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:$0});return!((i=u.data)===null||i===void 0)&&i.url&&_e()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await we(this.storage,`${this.storageKey}-code-verifier`),A(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new ze;const{error:s}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(A(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await D(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await D(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new to("You must provide either an email or phone number and a type")}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Lr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Va:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Lr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Ga()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=N0(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:nr}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ze}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:nr})})}catch(r){if(A(r))return Ha(r)&&(await this._removeSession(),await we(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ze;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await yn(this.storage,this.storageKey));const{data:u,error:c}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:nr});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await we(this.storage,`${this.storageKey}-code-verifier`),A(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ze;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=no(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(A(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new ze;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!_e())throw new ro("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ro(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ih("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ro("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ih("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new ro("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const m=h-c;m*1e3<=kn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const v=h-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:w,error:k}=await this._getUser(i);if(k)throw k;const f={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:f,redirectType:e.type},error:null})}catch(n){if(A(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Lr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!Ha(i))return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(c0(a)&&(a.status===404||a.status===401||a.status===403)||Ha(a)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await we(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=w0(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await yn(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await we(this.storage,`${this.storageKey}-code-verifier`),A(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return _e()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(A(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,d=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:lt}),{data:h,error:m}=d;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new gn}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(await we(this.storage,`${this.storageKey}-code-verifier`),A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await E0(async s=>(s>0&&await k0(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:lt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Qa(i)&&Date.now()+o-n<kn})}catch(n){if(this._debug(r,"error",n),A(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),_e()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Lr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Lr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await En(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Ga()}else if(s&&!s.user&&!s.user){const o=await Lr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await we(this.storage,this.storageKey+"-user"),await En(this.storage,this.storageKey,s)):s.user=Ga()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Va;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Va}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Qa(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new ze;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new pa;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new ze;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),A(i)){const o={data:null,error:i};return Qa(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await we(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await En(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=ch(s);await En(this.storage,this.storageKey,i)}else{const s=ch(r);await En(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await we(this.storage,this.storageKey),await we(this.storage,this.storageKey+"-code-verifier"),await we(this.storage,this.storageKey+"-user"),this.userStorage&&await we(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_e()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),kn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/kn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${kn}ms, refresh threshold is ${du} ticks`),s<=du&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Cm)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_e()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await yn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await D(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await D(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Z0(e.webauthn.credential_response):e_(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Y0(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:X0(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,s,i;if(e)try{const{payload:m}=no(e);let v=null;m.aal&&(v=m.aal);let w=v;const{data:{user:k},error:f}=await this.getUser(e);if(f)return this._returnResult({data:null,error:f});((n=(r=k==null?void 0:k.factors)===null||r===void 0?void 0:r.filter(S=>S.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(w="aal2");const g=m.amr||[];return{data:{currentLevel:v,nextLevel:w,currentAuthenticationMethods:g},error:null}}catch(m){if(A(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=no(o.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await D(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ze})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ze});const o=await D(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&_e()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ze});const o=await D(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&_e()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await D(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ze})})}catch(e){if(A(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await D(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ze})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+l0>s)return n;const{data:i,error:o}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=no(n);r!=null&&r.allowExpired||R0(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const c=j0(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,y0(`${a}.${l}`)))throw new pu("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}}hi.nextInstanceID={};const u_=hi,c_="2.95.3";let js="";typeof Deno<"u"?js="deno":typeof document<"u"?js="web":typeof navigator<"u"&&navigator.product==="ReactNative"?js="react-native":js="node";const d_={"X-Client-Info":`supabase-js-${js}/${c_}`},h_={headers:d_},f_={schema:"public"},p_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},m_={};function fi(t){"@babel/helpers - typeof";return fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fi(t)}function g_(t,e){if(fi(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y_(t){var e=g_(t,"string");return fi(e)=="symbol"?e:e+""}function v_(t,e,r){return(e=y_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function se(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yh(Object(r),!0).forEach(function(n){v_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yh(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const w_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),__=()=>Headers,S_=(t,e,r)=>{const n=w_(r),s=__();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,se(se({},o),{},{headers:u}))}};function k_(t){return t.endsWith("/")?t:t+"/"}function E_(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:se(se({},l),s),auth:se(se({},u),i),realtime:se(se({},c),o),storage:{},global:se(se(se({},d),a),{},{headers:se(se({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function b_(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(k_(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var x_=class extends u_{constructor(t){super(t)}},C_=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const i=b_(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:f_,realtime:m_,auth:se(se({},p_),{},{storageKey:o}),global:h_},l=E_(r??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=S_(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(se({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new cw(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new n0(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new rw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new x_({url:this.authUrl.href,headers:se(se({},h),c),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Tw(this.realtimeUrl.href,se(se({},t),{},{params:se(se({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const T_=(t,e,r)=>new C_(t,e,r);function P_(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}P_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const O_="https://aqhmnrwxglfmewsgvtzs.supabase.co",R_="sb_publishable_9D5K0g7MGvamX5kI5x1qfg_gnWa9Gbu",K=T_(O_,R_),Om=E.createContext(void 0);function j_({children:t}){const[e,r]=E.useState(null),[n,s]=E.useState(null),[i,o]=E.useState(null),[a,l]=E.useState(!0);E.useEffect(()=>{K.auth.getSession().then(({data:{session:k}})=>{s(k),r((k==null?void 0:k.user)??null),k!=null&&k.user?u(k.user.id):o(null),l(!1)});const{data:{subscription:w}}=K.auth.onAuthStateChange((k,f)=>{s(f),r((f==null?void 0:f.user)??null),f!=null&&f.user?u(f.user.id):o(null)});return()=>w.unsubscribe()},[]);async function u(w){const{data:k}=await K.from("profiles").select("*").eq("id",w).single();o(k)}async function c(w,k){const{error:f}=await K.auth.signInWithPassword({email:w,password:k});if(f)throw f}async function d(w,k,f){const{data:p,error:g}=await K.auth.signUp({email:w,password:k,options:{data:{display_name:f??""}}});if(g)throw g;p.user&&await u(p.user.id)}async function h(){await K.auth.signOut(),o(null)}async function m(){e!=null&&e.id&&await u(e.id)}const v={user:e,session:n,profile:i,loading:a,signIn:c,signUp:d,signOut:h,refetchProfile:m};return y.jsx(Om.Provider,{value:v,children:t})}function Ti(){const t=E.useContext(Om);if(t===void 0)throw new Error("useAuth  AuthProvider ");return t}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pi(){return pi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pi.apply(this,arguments)}var mr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(mr||(mr={}));const vh="popstate";function A_(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:a}=n.location;return mu("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Qo(s)}return I_(e,r,null,t)}function le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _c(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N_(){return Math.random().toString(36).substr(2,8)}function wh(t,e){return{usr:t.state,key:t.key,idx:e}}function mu(t,e,r,n){return r===void 0&&(r=null),pi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ps(e):e,{state:r,key:e&&e.key||n||N_()})}function Qo(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ps(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function I_(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=mr.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(pi({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=mr.Pop;let k=c(),f=k==null?null:k-u;u=k,l&&l({action:a,location:w.location,delta:f})}function h(k,f){a=mr.Push;let p=mu(w.location,k,f);u=c()+1;let g=wh(p,u),S=w.createHref(p);try{o.pushState(g,"",S)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(S)}i&&l&&l({action:a,location:w.location,delta:1})}function m(k,f){a=mr.Replace;let p=mu(w.location,k,f);u=c();let g=wh(p,u),S=w.createHref(p);o.replaceState(g,"",S),i&&l&&l({action:a,location:w.location,delta:0})}function v(k){let f=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof k=="string"?k:Qo(k);return p=p.replace(/ $/,"%20"),le(f,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,f)}let w={get action(){return a},get location(){return t(s,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(vh,d),l=k,()=>{s.removeEventListener(vh,d),l=null}},createHref(k){return e(s,k)},createURL:v,encodeLocation(k){let f=v(k);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:h,replace:m,go(k){return o.go(k)}};return w}var _h;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_h||(_h={}));function L_(t,e,r){return r===void 0&&(r="/"),U_(t,e,r)}function U_(t,e,r,n){let s=typeof e=="string"?ps(e):e,i=Sc(s.pathname||"/",r);if(i==null)return null;let o=Rm(t);$_(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=G_(i);a=V_(o[l],u)}return a}function Rm(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(le(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=xr([n,l.relativePath]),c=r.concat(l);i.children&&i.children.length>0&&(le(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Rm(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:W_(u,i.index),routesMeta:c})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of jm(i.path))s(i,o,l)}),e}function jm(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=jm(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function $_(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:K_(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const D_=/^:[\w-]+$/,F_=3,M_=2,B_=1,z_=10,q_=-2,Sh=t=>t==="*";function W_(t,e){let r=t.split("/"),n=r.length;return r.some(Sh)&&(n+=q_),e&&(n+=M_),r.filter(s=>!Sh(s)).reduce((s,i)=>s+(D_.test(i)?F_:i===""?B_:z_),n)}function K_(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function V_(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=H_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:xr([i,d.pathname]),pathnameBase:eS(xr([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=xr([i,d.pathnameBase]))}return o}function H_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Q_(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:h,isOptional:m}=c;if(h==="*"){let w=a[d]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=a[d];return m&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function Q_(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),_c(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function G_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _c(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Sc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const J_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y_=t=>J_.test(t);function X_(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?ps(t):t,i;if(r)if(Y_(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),_c(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=kh(r.substring(1),"/"):i=kh(r,e)}else i=e;return{pathname:i,search:tS(n),hash:rS(s)}}function kh(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ya(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Z_(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function kc(t,e){let r=Z_(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Ec(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=ps(t):(s=pi({},t),le(!s.pathname||!s.pathname.includes("?"),Ya("?","pathname","search",s)),le(!s.pathname||!s.pathname.includes("#"),Ya("#","pathname","hash",s)),le(!s.search||!s.search.includes("#"),Ya("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=X_(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const xr=t=>t.join("/").replace(/\/\/+/g,"/"),eS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Am=["post","put","patch","delete"];new Set(Am);const sS=["get",...Am];new Set(sS);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mi(){return mi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mi.apply(this,arguments)}const bc=E.createContext(null),iS=E.createContext(null),jr=E.createContext(null),ma=E.createContext(null),Pt=E.createContext({outlet:null,matches:[],isDataRoute:!1}),Nm=E.createContext(null);function oS(t,e){let{relative:r}=e===void 0?{}:e;ms()||le(!1);let{basename:n,navigator:s}=E.useContext(jr),{hash:i,pathname:o,search:a}=Lm(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:xr([n,o])),s.createHref({pathname:l,search:a,hash:i})}function ms(){return E.useContext(ma)!=null}function Pi(){return ms()||le(!1),E.useContext(ma).location}function Im(t){E.useContext(jr).static||E.useLayoutEffect(t)}function Oi(){let{isDataRoute:t}=E.useContext(Pt);return t?kS():aS()}function aS(){ms()||le(!1);let t=E.useContext(bc),{basename:e,future:r,navigator:n}=E.useContext(jr),{matches:s}=E.useContext(Pt),{pathname:i}=Pi(),o=JSON.stringify(kc(s,r.v7_relativeSplatPath)),a=E.useRef(!1);return Im(()=>{a.current=!0}),E.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=Ec(u,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:xr([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,o,i,t])}const lS=E.createContext(null);function uS(t){let e=E.useContext(Pt).outlet;return e&&E.createElement(lS.Provider,{value:t},e)}function cS(){let{matches:t}=E.useContext(Pt),e=t[t.length-1];return e?e.params:{}}function Lm(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=E.useContext(jr),{matches:s}=E.useContext(Pt),{pathname:i}=Pi(),o=JSON.stringify(kc(s,n.v7_relativeSplatPath));return E.useMemo(()=>Ec(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function dS(t,e){return hS(t,e)}function hS(t,e,r,n){ms()||le(!1);let{navigator:s}=E.useContext(jr),{matches:i}=E.useContext(Pt),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Pi(),c;if(e){var d;let k=typeof e=="string"?ps(e):e;l==="/"||(d=k.pathname)!=null&&d.startsWith(l)||le(!1),c=k}else c=u;let h=c.pathname||"/",m=h;if(l!=="/"){let k=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(k.length).join("/")}let v=L_(t,{pathname:m}),w=yS(v&&v.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:xr([l,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?l:xr([l,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,r,n);return e&&w?E.createElement(ma.Provider,{value:{location:mi({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:mr.Pop}},w):w}function fS(){let t=SS(),e=nS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),r?E.createElement("pre",{style:s},r):null,null)}const pS=E.createElement(fS,null);class mS extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?E.createElement(Pt.Provider,{value:this.props.routeContext},E.createElement(Nm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gS(t){let{routeContext:e,match:r,children:n}=t,s=E.useContext(bc);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),E.createElement(Pt.Provider,{value:e},n)}function yS(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||le(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:m}=r,v=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let m,v=!1,w=null,k=null;r&&(m=a&&d.route.id?a[d.route.id]:void 0,w=d.route.errorElement||pS,l&&(u<0&&h===0?(ES("route-fallback"),v=!0,k=null):u===h&&(v=!0,k=d.route.hydrateFallbackElement||null)));let f=e.concat(o.slice(0,h+1)),p=()=>{let g;return m?g=w:v?g=k:d.route.Component?g=E.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=c,E.createElement(gS,{match:d,routeContext:{outlet:c,matches:f,isDataRoute:r!=null},children:g})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?E.createElement(mS,{location:r.location,revalidation:r.revalidation,component:w,error:m,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var Um=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Um||{}),$m=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($m||{});function vS(t){let e=E.useContext(bc);return e||le(!1),e}function wS(t){let e=E.useContext(iS);return e||le(!1),e}function _S(t){let e=E.useContext(Pt);return e||le(!1),e}function Dm(t){let e=_S(),r=e.matches[e.matches.length-1];return r.route.id||le(!1),r.route.id}function SS(){var t;let e=E.useContext(Nm),r=wS(),n=Dm();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function kS(){let{router:t}=vS(Um.UseNavigateStable),e=Dm($m.UseNavigateStable),r=E.useRef(!1);return Im(()=>{r.current=!0}),E.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,mi({fromRouteId:e},i)))},[t,e])}const Eh={};function ES(t,e,r){Eh[t]||(Eh[t]=!0)}function bS(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function xc(t){let{to:e,replace:r,state:n,relative:s}=t;ms()||le(!1);let{future:i,static:o}=E.useContext(jr),{matches:a}=E.useContext(Pt),{pathname:l}=Pi(),u=Oi(),c=Ec(e,kc(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(c);return E.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function xS(t){return uS(t.context)}function Yt(t){le(!1)}function CS(t){let{basename:e="/",children:r=null,location:n,navigationType:s=mr.Pop,navigator:i,static:o=!1,future:a}=t;ms()&&le(!1);let l=e.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:l,navigator:i,static:o,future:mi({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=ps(n));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:v="default"}=n,w=E.useMemo(()=>{let k=Sc(c,l);return k==null?null:{location:{pathname:k,search:d,hash:h,state:m,key:v},navigationType:s}},[l,c,d,h,m,v,s]);return w==null?null:E.createElement(jr.Provider,{value:u},E.createElement(ma.Provider,{children:r,value:w}))}function TS(t){let{children:e,location:r}=t;return dS(gu(e),r)}new Promise(()=>{});function gu(t,e){e===void 0&&(e=[]);let r=[];return E.Children.forEach(t,(n,s)=>{if(!E.isValidElement(n))return;let i=[...e,s];if(n.type===E.Fragment){r.push.apply(r,gu(n.props.children,i));return}n.type!==Yt&&le(!1),!n.props.index||!n.props.children||le(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=gu(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yu(){return yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yu.apply(this,arguments)}function PS(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function OS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function RS(t,e){return t.button===0&&(!e||e==="_self")&&!OS(t)}const jS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AS="6";try{window.__reactRouterVersion=AS}catch{}const NS="startTransition",bh=ig[NS];function IS(t){let{basename:e,children:r,future:n,window:s}=t,i=E.useRef();i.current==null&&(i.current=A_({window:s,v5Compat:!0}));let o=i.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=E.useCallback(d=>{u&&bh?bh(()=>l(d)):l(d)},[l,u]);return E.useLayoutEffect(()=>o.listen(c),[o,c]),E.useEffect(()=>bS(n),[n]),E.createElement(CS,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const LS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",US=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vo=E.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,h=PS(e,jS),{basename:m}=E.useContext(jr),v,w=!1;if(typeof u=="string"&&US.test(u)&&(v=u,LS))try{let g=new URL(window.location.href),S=u.startsWith("//")?new URL(g.protocol+u):new URL(u),b=Sc(S.pathname,m);S.origin===g.origin&&b!=null?u=b+S.search+S.hash:w=!0}catch{}let k=oS(u,{relative:s}),f=$S(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:d});function p(g){n&&n(g),g.defaultPrevented||f(g)}return E.createElement("a",yu({},h,{href:v||k,onClick:w||i?n:p,ref:r,target:l}))});var xh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xh||(xh={}));var Ch;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ch||(Ch={}));function $S(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Oi(),u=Pi(),c=Lm(t,{relative:o});return E.useCallback(d=>{if(RS(d,r)){d.preventDefault();let h=n!==void 0?n:Qo(u)===Qo(c);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,c,n,s,r,t,i,o,a])}function DS(){const{profile:t,signOut:e}=Ti();return y.jsxs("div",{className:"app",children:[y.jsxs("nav",{className:"nav",children:[y.jsxs("div",{children:[y.jsx(vo,{to:"/",children:""}),y.jsx(vo,{to:"/reports",style:{marginLeft:"1rem"},children:""}),y.jsx(vo,{to:"/settings",style:{marginLeft:"1rem"},children:""})]}),y.jsxs("div",{children:[y.jsx("span",{style:{marginRight:"1rem"},children:(t==null?void 0:t.display_name)||(t==null?void 0:t.email)||""}),y.jsx("button",{type:"button",className:"btn",onClick:()=>e(),children:""})]})]}),y.jsx(xS,{})]})}function Th(t){if(t instanceof Error){const e=t==null?void 0:t.cause;return e instanceof Error?`${t.message} (${e.message})`:e!=null?`${t.message} (${String(e)})`:t.message}return String(t)}function FS(){const{user:t,loading:e,signIn:r,signUp:n}=Ti(),[s,i]=E.useState(""),[o,a]=E.useState(""),[l,u]=E.useState(""),[c,d]=E.useState(!1),[h,m]=E.useState(""),[v,w]=E.useState(!1),[k,f]=E.useState(null);if(e)return y.jsx("div",{className:"app",children:""});if(t)return y.jsx(xc,{to:"/",replace:!0});async function p(){f(""),m("");const S="https://aqhmnrwxglfmewsgvtzs.supabase.co".replace(/\/$/,"")||"",b="sb_publishable_9D5K0g7MGvamX5kI5x1qfg_gnWa9Gbu";if(!S){f("VITE_SUPABASE_URL ");return}try{const x=await fetch(`${S}/auth/v1/health`,{method:"GET",headers:b?{apikey:b}:void 0});if(!x.ok)throw new Error(`HTTP ${x.status}`);f(" Supabase Authentication  Users  ")}catch(x){const P=Th(x);f(`${P} URL`)}}async function g(S){S.preventDefault(),m(""),f(null),w(!0);try{c?await n(s,o,l||void 0):await r(s,o)}catch(b){const x=Th(b);x.startsWith("Failed to fetch")?m(` Supabase${x}`):m(x)}finally{w(!1)}}return y.jsx("div",{className:"app",children:y.jsxs("div",{className:"card",style:{maxWidth:400,margin:"2rem auto"},children:[y.jsx("h2",{children:c?"":""}),y.jsxs("form",{onSubmit:g,children:[c&&y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:""}),y.jsx("input",{type:"text",value:l,onChange:S=>u(S.target.value),placeholder:""})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Email"}),y.jsx("input",{type:"email",value:s,onChange:S=>i(S.target.value),required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:""}),y.jsx("input",{type:"password",value:o,onChange:S=>a(S.target.value),required:!0,minLength:6})]}),h&&y.jsx("div",{className:"error",children:h}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"submit",className:"btn btn-primary",disabled:v,children:c?"":""}),y.jsx("button",{type:"button",className:"btn",onClick:()=>{d(S=>!S),m(""),f(null)},children:c?"":""})]})]}),y.jsxs("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[y.jsx("button",{type:"button",className:"btn",onClick:p,children:""}),k!=null&&y.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.85rem",color:k.startsWith("")?"#2e7d32":"#c62828",wordBreak:"break-all"},children:k})]})]})})}function Fm(){return fn({queryKey:["projects"],queryFn:async()=>{const{data:t,error:e}=await K.from("projects").select("*").order("updated_at",{ascending:!1});if(e)throw e;return t}})}function MS(){const t=ot();return wt({mutationFn:async e=>{const{data:r,error:n}=await K.rpc("create_project",{p_name:e.name,p_description:e.description||null});if(n)throw console.error("[useCreateProject] Supabase error:",n),new Error(n.message||"");return r},onSuccess:()=>{t.invalidateQueries({queryKey:["projects"]})}})}function BS(){const t=ot();return wt({mutationFn:async({id:e,name:r,description:n})=>{const{data:s,error:i}=await K.from("projects").update({name:r,description:n??null}).eq("id",e).select().single();if(i)throw i;return s},onSuccess:(e,r)=>{t.invalidateQueries({queryKey:["projects"]}),t.invalidateQueries({queryKey:["project",r.id]})}})}function zS(){const t=ot();return wt({mutationFn:async e=>{const{error:r}=await K.from("projects").delete().eq("id",e);if(r)throw r},onSuccess:()=>{t.invalidateQueries({queryKey:["projects"]})}})}function qS(t){return t==null?"":t instanceof Error?t.message||"":typeof t=="object"&&"message"in t?String(t.message)||"":String(t)}function Ph({project:t,onSuccess:e,onCancel:r}){const[n,s]=E.useState((t==null?void 0:t.name)??""),[i,o]=E.useState((t==null?void 0:t.description)??""),a=MS(),l=BS(),u=!!(t!=null&&t.id);async function c(d){d.preventDefault();try{u?await l.mutateAsync({id:t.id,name:n,description:i}):await a.mutateAsync({name:n,description:i}),e()}catch{}}return y.jsxs("form",{onSubmit:c,children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:" *"}),y.jsx("input",{type:"text",value:n,onChange:d=>s(d.target.value),required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:""}),y.jsx("textarea",{value:i,onChange:d=>o(d.target.value),rows:2})]}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isPending||l.isPending,children:u?"":""}),y.jsx("button",{type:"button",className:"btn",onClick:r,children:""})]}),(a.error||l.error)&&y.jsx("div",{className:"error",children:qS(a.error||l.error)})]})}function WS(){const{data:t,isLoading:e,error:r}=Fm(),n=zS(),[s,i]=E.useState(!1),[o,a]=E.useState(null);return e?y.jsx("div",{children:""}):r?y.jsxs("div",{className:"error",children:["",String(r)]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[y.jsx("h1",{children:""}),y.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{a(null),i(!0)},children:""})]}),s&&!o&&y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:""}),y.jsx(Ph,{onSuccess:()=>i(!1),onCancel:()=>i(!1)})]}),o&&y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:""}),y.jsx(Ph,{project:o,onSuccess:()=>a(null),onCancel:()=>a(null)})]}),(t==null?void 0:t.length)===0&&!s&&y.jsx("div",{className:"card",children:y.jsx("p",{children:""})}),t==null?void 0:t.map(l=>y.jsxs("div",{className:"card list-item",children:[y.jsxs("div",{children:[y.jsx(vo,{to:`/projects/${l.id}`,style:{fontWeight:600,marginRight:"0.5rem"},children:l.name}),l.description&&y.jsx("span",{style:{color:"#666",fontSize:"0.9rem"},children:l.description})]}),y.jsxs("div",{children:[y.jsx("button",{type:"button",className:"btn",onClick:()=>{i(!1),a(l)},children:""}),y.jsx("button",{type:"button",className:"btn btn-danger",onClick:async()=>{window.confirm(`${l.name}`)&&await n.mutateAsync(l.id)},children:""})]})]},l.id))]})}function KS(t){return fn({queryKey:["project",t],queryFn:async()=>{if(!t)throw new Error(" ID");const{data:e,error:r}=await K.from("projects").select("*").eq("id",t).single();if(r)throw r;return e},enabled:!!t})}function VS(t){return fn({queryKey:["deadlines",t],queryFn:async()=>{if(!t)return[];const{data:e,error:r}=await K.from("deadlines").select("*").eq("project_id",t).order("due_date",{ascending:!0});if(r)throw r;return e},enabled:!!t})}function HS(){const t=ot();return wt({mutationFn:async e=>{const{data:r,error:n}=await K.from("deadlines").insert({project_id:e.project_id,title:e.title,due_date:e.due_date,description:e.description??null,source:e.source??"manual",document_extract_id:e.document_extract_id??null,assignee_id:e.assignee_id??null}).select().single();if(n)throw n;return r},onSuccess:(e,r)=>{t.invalidateQueries({queryKey:["deadlines",r.project_id]})}})}function QS(){const t=ot();return wt({mutationFn:async e=>{const{id:r,project_id:n,...s}=e,{data:i,error:o}=await K.from("deadlines").update(s).eq("id",r).select().single();if(o)throw o;return i},onSuccess:(e,r)=>{t.invalidateQueries({queryKey:["deadlines",r.project_id]})}})}function GS(){const t=ot();return wt({mutationFn:async({id:e,project_id:r})=>{const{error:n}=await K.from("deadlines").delete().eq("id",e);if(n)throw n;return{project_id:r}},onSuccess:(e,r)=>{t.invalidateQueries({queryKey:["deadlines",r.project_id]})}})}const JS=()=>`${"https://aqhmnrwxglfmewsgvtzs.supabase.co".replace(/\/$/,"")}/functions/v1/extract-deadlines`;function YS(){return wt({mutationFn:async t=>{var o;const e=JS(),{data:r}=await K.auth.getSession(),n={"Content-Type":"application/json",apikey:"sb_publishable_9D5K0g7MGvamX5kI5x1qfg_gnWa9Gbu"};(o=r==null?void 0:r.session)!=null&&o.access_token&&(n.Authorization=`Bearer ${r.session.access_token}`);const s=await fetch(e,{method:"POST",headers:n,body:JSON.stringify({text:t.trim()})}),i=await s.json().catch(()=>({}));if(!s.ok){const a=((i==null?void 0:i.error)??(i==null?void 0:i.detail)??s.statusText)||"",l=i!=null&&i.detail?`${String(i.detail).slice(0,200)}`:"";throw s.status===429?new Error("Gemini API  Google AI Studio "+l):new Error(`${a}${l}`)}if(i!=null&&i.error)throw new Error(typeof i.error=="string"?i.error:"");return(i==null?void 0:i.suggestions)??[]}})}function XS(){const t=ot();return wt({mutationFn:async e=>{const{project_id:r,file_name:n,suggestions:s,created_by:i}=e;if(s.length===0)return{project_id:r,count:0};const{data:o,error:a}=await K.from("document_extracts").insert({project_id:r,file_name:n??null,extract_result:s,created_by:i}).select("id").single();if(a)throw a;if(!(o!=null&&o.id))throw new Error("");const l=s.map(c=>({project_id:r,title:c.title,due_date:c.due_date,description:c.description??null,source:"document_extract",document_extract_id:o.id,assignee_id:null})),{error:u}=await K.from("deadlines").insert(l);if(u)throw u;return{project_id:r,count:l.length}},onSuccess:(e,r)=>{t.invalidateQueries({queryKey:["deadlines",r.project_id]})}})}function ZS(t){return fn({queryKey:["projectMembers",t],queryFn:async()=>{if(!t)return[];const{data:e,error:r}=await K.from("project_members").select("project_id, user_id, created_at").eq("project_id",t);if(r)throw r;if(!(e!=null&&e.length))return[];const n=[...new Set(e.map(a=>a.user_id))],{data:s,error:i}=await K.from("profiles").select("id, display_name, email").in("id",n);if(i)throw i;const o=new Map;return(s??[]).forEach(a=>o.set(a.id,a)),e.map(a=>({...a,profile:o.get(a.user_id)??null}))},enabled:!!t})}function ek(){const t=ot();return wt({mutationFn:async({projectId:e,userId:r})=>{const{error:n}=await K.from("project_members").insert({project_id:e,user_id:r});if(n)throw n;return{projectId:e,userId:r}},onSuccess:e=>{t.invalidateQueries({queryKey:["projectMembers",e.projectId]})}})}function tk(){const t=ot();return wt({mutationFn:async({projectId:e,userId:r})=>{const{error:n}=await K.from("project_members").delete().eq("project_id",e).eq("user_id",r);if(n)throw n;return{projectId:e,userId:r}},onSuccess:e=>{t.invalidateQueries({queryKey:["projectMembers",e.projectId]})}})}const rk=3;function nk(t){return fn({queryKey:["notificationRule",t],queryFn:async()=>{if(!t)return null;const{data:e,error:r}=await K.from("notification_rules").select("*").eq("project_id",t).maybeSingle();if(r)throw r;return e},enabled:!!t})}function sk(){return{days_before:rk,notify_line:!0,notify_email:!0}}function ik(t){const e=ot();return wt({mutationFn:async r=>{if(!t)throw new Error(" ID");const{data:n,error:s}=await K.from("notification_rules").upsert({project_id:t,days_before:Math.max(0,Math.min(365,r.days_before)),notify_line:r.notify_line,notify_email:r.notify_email},{onConflict:"project_id"}).select().single();if(s)throw s;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["notificationRule",t]})}})}const ok="modulepreload",ak=function(t){return"/"+t},Oh={},lk=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=ak(l),l in Oh)return;Oh[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":ok,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};async function uk(t){const e=(t.name||"").toLowerCase();if(e.endsWith(".txt"))return new Promise((r,n)=>{const s=new FileReader;s.onload=()=>r(String(s.result??"")),s.onerror=()=>n(new Error("")),s.readAsText(t,"UTF-8")});if(e.endsWith(".pdf"))try{const r=await lk(()=>import("./pdf-BnPRJEQ6.js"),[]),n=await t.arrayBuffer(),s=await r.getDocument({data:n}).promise,i=s.numPages,o=[];for(let a=1;a<=i;a++){const c=(await(await s.getPage(a)).getTextContent()).items.map(d=>"str"in d?d.str:"").join(" ");o.push(c)}return o.join(`
`).trim()}catch(r){throw new Error("PDF  .txt "+(r instanceof Error?` ${r.message}`:""))}throw new Error(" .txt  .pdf ")}function ck(t){return new Date(t).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"})}function dk({rule:t,defaultRule:e,onSave:r,isPending:n,error:s}){const[i,o]=E.useState((t==null?void 0:t.days_before)??e.days_before),[a,l]=E.useState((t==null?void 0:t.notify_line)??e.notify_line),[u,c]=E.useState((t==null?void 0:t.notify_email)??e.notify_email);E.useEffect(()=>{t!==null?(o(t.days_before),l(t.notify_line),c(t.notify_email)):(o(e.days_before),l(e.notify_line),c(e.notify_email))},[t,e.days_before,e.notify_line,e.notify_email]);async function d(h){h.preventDefault(),await r({days_before:i,notify_line:a,notify_email:u})}return y.jsxs("form",{onSubmit:d,children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:""}),y.jsx("input",{type:"number",min:0,max:365,value:i,onChange:h=>o(Number(h.target.value)||0)})]}),y.jsxs("div",{className:"form-group",style:{display:"flex",gap:"1rem",alignItems:"center"},children:[y.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[y.jsx("input",{type:"checkbox",checked:a,onChange:h=>l(h.target.checked)}),"LINE"]}),y.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[y.jsx("input",{type:"checkbox",checked:u,onChange:h=>c(h.target.checked)}),"Email"]})]}),y.jsx("div",{className:"form-actions",children:y.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?"":""})}),s&&y.jsx("div",{className:"error",style:{marginTop:"0.5rem"},children:s instanceof Error?s.message:""})]})}function Rh({projectId:t,deadline:e,onSuccess:r,onCancel:n}){const[s,i]=E.useState((e==null?void 0:e.title)??""),[o,a]=E.useState(e!=null&&e.due_date?e.due_date.slice(0,10):""),[l,u]=E.useState((e==null?void 0:e.description)??""),c=HS(),d=QS(),h=!!(e!=null&&e.id);async function m(v){v.preventDefault();try{h?await d.mutateAsync({id:e.id,project_id:t,title:s,due_date:o,description:l||void 0}):await c.mutateAsync({project_id:t,title:s,due_date:o,description:l||void 0}),r()}catch{}}return y.jsxs("form",{onSubmit:m,children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:" *"}),y.jsx("input",{type:"text",value:s,onChange:v=>i(v.target.value),required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:" *"}),y.jsx("input",{type:"date",value:o,onChange:v=>a(v.target.value),required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:""}),y.jsx("textarea",{value:l,onChange:v=>u(v.target.value),rows:2})]}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"submit",className:"btn btn-primary",disabled:c.isPending||d.isPending,children:h?"":""}),y.jsx("button",{type:"button",className:"btn",onClick:n,children:""})]}),(c.error||d.error)&&y.jsx("div",{className:"error",children:(c.error||d.error)instanceof Error?(c.error||d.error).message:""})]})}function hk(){const{projectId:t}=cS(),e=Oi(),{user:r}=Ti(),{data:n,isLoading:s,error:i}=KS(t),{data:o,isLoading:a}=VS(t),{data:l}=ZS(t),u=GS(),c=ek(),d=tk(),[h,m]=E.useState(!1),[v,w]=E.useState(null),[k,f]=E.useState(""),[p,g]=E.useState(""),[S,b]=E.useState(null),[x,P]=E.useState([]),[C,L]=E.useState(new Set),N=YS(),Q=XS(),{data:Je}=nk(t),Ye=ik(t),Ot=sk();if(s||!t)return y.jsx("div",{children:""});if(i||!n)return y.jsxs("div",{className:"error",children:["",y.jsx("button",{type:"button",className:"btn",onClick:()=>e("/"),children:""})]});const Rt=(r==null?void 0:r.id)===n.owner_id;async function gs(M){if(M.preventDefault(),!k.trim())return;const{data:O,error:U}=await K.rpc("get_user_id_by_email",{user_email:k.trim()});if(U||!O){alert(" Email ");return}try{await c.mutateAsync({projectId:t,userId:O}),f("")}catch($){alert($ instanceof Error?$.message:"")}}return y.jsxs(y.Fragment,{children:[y.jsx("div",{style:{marginBottom:"1rem"},children:y.jsx("button",{type:"button",className:"btn",onClick:()=>e("/"),children:" "})}),y.jsxs("div",{className:"card",children:[y.jsx("h2",{children:n.name}),n.description&&y.jsx("p",{style:{color:"#666"},children:n.description})]}),y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:""}),y.jsx("button",{type:"button",className:"btn btn-primary",style:{marginBottom:"1rem"},onClick:()=>{w(null),m(!0)},children:""}),h&&!v&&y.jsx("div",{style:{marginBottom:"1rem",padding:"1rem",background:"#f9f9f9",borderRadius:8},children:y.jsx(Rh,{projectId:t,onSuccess:()=>m(!1),onCancel:()=>m(!1)})}),v&&y.jsx("div",{style:{marginBottom:"1rem",padding:"1rem",background:"#f9f9f9",borderRadius:8},children:y.jsx(Rh,{projectId:t,deadline:v,onSuccess:()=>w(null),onCancel:()=>w(null)})}),a?y.jsx("p",{children:""}):(o==null?void 0:o.length)===0?y.jsx("p",{children:""}):y.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:o==null?void 0:o.map(M=>y.jsxs("li",{className:"list-item",children:[y.jsxs("div",{children:[y.jsx("strong",{children:M.title}),y.jsx("span",{style:{marginLeft:"0.5rem"},className:"badge",children:ck(M.due_date)}),M.description&&y.jsx("span",{style:{display:"block",fontSize:"0.9rem",color:"#666"},children:M.description})]}),y.jsxs("div",{children:[y.jsx("button",{type:"button",className:"btn",onClick:()=>{m(!1),w(M)},children:""}),y.jsx("button",{type:"button",className:"btn btn-danger",onClick:async()=>{window.confirm("")&&await u.mutateAsync({id:M.id,project_id:t})},children:""})]})]},M.id))})]}),y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:""}),y.jsx("p",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"1rem"},children:" .txt / .pdf AI "}),y.jsxs("div",{style:{marginBottom:"1rem"},children:[y.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:""}),y.jsx("textarea",{value:p,onChange:M=>g(M.target.value),placeholder:" .txt / .pdf ",rows:5,style:{width:"100%",padding:"0.5rem",boxSizing:"border-box"}}),y.jsx("input",{type:"file",accept:".txt,.pdf",style:{marginTop:"0.5rem"},onChange:async M=>{var U;const O=(U=M.target.files)==null?void 0:U[0];if(O){b(O.name);try{const $=await uk(O);g($)}catch($){alert($ instanceof Error?$.message:"")}M.target.value=""}}})]}),y.jsx("button",{type:"button",className:"btn btn-primary",disabled:!p.trim()||N.isPending,onClick:async()=>{P([]),L(new Set);try{const M=await N.mutateAsync(p.trim());P(M),L(new Set(M.map((O,U)=>U)))}catch(M){alert(M instanceof Error?M.message:"")}},children:N.isPending?"":""}),N.error&&y.jsx("div",{className:"error",style:{marginTop:"0.5rem"},children:N.error instanceof Error?N.error.message:""}),x.length>0&&y.jsxs("div",{style:{marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[y.jsx("h4",{style:{marginBottom:"0.5rem"},children:""}),y.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:x.map((M,O)=>y.jsx("li",{className:"list-item",style:{alignItems:"flex-start"},children:y.jsxs("label",{style:{display:"flex",gap:"0.5rem",flex:1,cursor:"pointer"},children:[y.jsx("input",{type:"checkbox",checked:C.has(O),onChange:()=>{L(U=>{const $=new Set(U);return $.has(O)?$.delete(O):$.add(O),$})}}),y.jsxs("span",{children:[y.jsx("strong",{children:M.title}),y.jsx("span",{style:{marginLeft:"0.5rem"},className:"badge",children:M.due_date}),M.description&&y.jsx("span",{style:{display:"block",fontSize:"0.9rem",color:"#666"},children:M.description})]})]})},O))}),y.jsx("div",{style:{marginTop:"1rem"},children:y.jsx("button",{type:"button",className:"btn btn-primary",disabled:C.size===0||Q.isPending||!(r!=null&&r.id),onClick:async()=>{const M=x.filter((O,U)=>C.has(U));if(M.length!==0)try{await Q.mutateAsync({project_id:t,file_name:S??void 0,suggestions:M,created_by:r.id}),P([]),L(new Set),g(""),b(null)}catch(O){alert(O instanceof Error?O.message:"")}},children:Q.isPending?"":`${C.size} `})}),Q.error&&y.jsx("div",{className:"error",style:{marginTop:"0.5rem"},children:Q.error instanceof Error?Q.error.message:""})]})]}),Rt&&y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:""}),y.jsx("p",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"1rem"},children:" LINEEmail 3 "}),y.jsx(dk,{projectId:t,rule:Je??null,defaultRule:Ot,onSave:Ye.mutateAsync,isPending:Ye.isPending,error:Ye.error})]}),Rt&&y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:""}),y.jsxs("form",{onSubmit:gs,style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[y.jsx("input",{type:"email",placeholder:" Email",value:k,onChange:M=>f(M.target.value),className:"form-group",style:{flex:1,padding:"0.5rem"}}),y.jsx("button",{type:"submit",className:"btn btn-primary",disabled:c.isPending,children:""})]}),y.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[y.jsx("li",{className:"list-item",children:y.jsx("span",{children:""})}),l==null?void 0:l.map(M=>{var O,U;return y.jsxs("li",{className:"list-item",children:[y.jsx("span",{children:((O=M.profile)==null?void 0:O.display_name)||((U=M.profile)==null?void 0:U.email)||M.user_id}),y.jsx("button",{type:"button",className:"btn btn-danger",onClick:()=>d.mutate({projectId:t,userId:M.user_id}),children:""})]},M.user_id)})]})]})]})}function fk(t=50){return fn({queryKey:["notificationLogs",t],queryFn:async()=>{const{data:e,error:r}=await K.from("notification_logs").select("id, deadline_id, recipient, channel, sent_at, deadlines(id, title, due_date, project_id, projects(name))").order("sent_at",{ascending:!1}).limit(t);if(r)throw r;return e??[]}})}function pk(t,e=14){const r=new Date().toISOString().slice(0,10),n=new Date;n.setDate(n.getDate()+e);const s=n.toISOString().slice(0,10);return fn({queryKey:["upcomingDeadlines",t,r,s],queryFn:async()=>{if(t.length===0)return[];const{data:i,error:o}=await K.from("deadlines").select("id, project_id, title, due_date, description, projects(name)").in("project_id",t).gte("due_date",r).lte("due_date",s).order("due_date",{ascending:!0});if(o)throw o;return i??[]},enabled:t.length>0})}function mk(t){return new Date(t).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"})}function gk(t){return new Date(t).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function yk(){const t=Oi(),{data:e}=Fm(),r=(e==null?void 0:e.map(a=>a.id))??[],{data:n,isLoading:s}=pk(r,14),{data:i,isLoading:o}=fk(50);return y.jsxs(y.Fragment,{children:[y.jsx("div",{style:{marginBottom:"1rem"},children:y.jsx("button",{type:"button",className:"btn",onClick:()=>t("/"),children:" "})}),y.jsxs("div",{className:"card",children:[y.jsx("h2",{children:""}),y.jsx("p",{style:{color:"#666",marginBottom:"1rem"},children:"14 "})]}),y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"14 "}),s?y.jsx("p",{children:""}):n!=null&&n.length?y.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:n.map(a=>{var l;return y.jsxs("li",{className:"list-item",children:[y.jsxs("div",{children:[y.jsx("strong",{children:a.title}),y.jsx("span",{style:{marginLeft:"0.5rem"},className:"badge",children:mk(a.due_date)}),y.jsx("span",{style:{marginLeft:"0.5rem",fontSize:"0.9rem",color:"#666"},children:((l=a.projects)==null?void 0:l.name)??""}),a.description&&y.jsx("span",{style:{display:"block",fontSize:"0.9rem",color:"#666"},children:a.description})]}),y.jsx("button",{type:"button",className:"btn",onClick:()=>t(`/projects/${a.project_id}`),children:""})]},a.id)})}):y.jsx("p",{children:""})]}),y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:""}),o?y.jsx("p",{children:""}):i!=null&&i.length?y.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:i.map(a=>{var l,u,c;return y.jsx("li",{className:"list-item",style:{flexWrap:"wrap"},children:y.jsxs("div",{children:[y.jsx("span",{className:"badge",style:{marginRight:"0.5rem"},children:a.channel}),y.jsxs("span",{style:{fontSize:"0.9rem"},children:[((l=a.deadlines)==null?void 0:l.title)??"","",((c=(u=a.deadlines)==null?void 0:u.projects)==null?void 0:c.name)??"",""]}),y.jsxs("span",{style:{marginLeft:"0.5rem",color:"#666",fontSize:"0.85rem"},children:[gk(a.sent_at),"  ",a.recipient]})]})},a.id)})}):y.jsx("p",{children:""})]})]})}function vk(){const t=Oi(),{user:e,profile:r,refetchProfile:n}=Ti(),[s,i]=E.useState((r==null?void 0:r.display_name)??""),[o,a]=E.useState(!1),[l,u]=E.useState(""),[c,d]=E.useState(null),[h,m]=E.useState(!1),[v,w]=E.useState(!1);E.useEffect(()=>{(r==null?void 0:r.display_name)!==void 0&&i(r.display_name??"")},[r==null?void 0:r.display_name]);async function k(S){if(S.preventDefault(),!(e!=null&&e.id))return;a(!0),u("");const{error:b}=await K.from("profiles").update({display_name:s||null}).eq("id",e.id);if(a(!1),b){u(b.message);return}await n()}async function f(){if(!(e!=null&&e.id))return;m(!0),d(null);const{data:S,error:b}=await K.rpc("create_line_binding_request");if(m(!1),b){alert(b.message);return}const x=S;x!=null&&x.code&&d(x)}async function p(){if(!(e!=null&&e.id)||!window.confirm(" LINE  LINE "))return;w(!0);const{error:S}=await K.from("profiles").update({line_user_id:null}).eq("id",e.id);if(w(!1),S){alert(S.message);return}await n()}async function g(){await n()}return!e||!r?y.jsx("div",{className:"app",children:y.jsx("p",{children:""})}):y.jsxs(y.Fragment,{children:[y.jsx("div",{style:{marginBottom:"1rem"},children:y.jsx("button",{type:"button",className:"btn",onClick:()=>t("/"),children:" "})}),y.jsx("div",{className:"card",children:y.jsx("h2",{children:""})}),y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:""}),y.jsx("p",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"1rem"},children:"Email"}),y.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[y.jsx("label",{children:"Email"}),y.jsx("input",{type:"text",value:r.email??"",readOnly:!0,style:{background:"#f5f5f5"}})]}),y.jsxs("form",{onSubmit:k,children:[y.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[y.jsx("label",{children:""}),y.jsx("input",{type:"text",value:s,onChange:S=>i(S.target.value),placeholder:""})]}),y.jsx("button",{type:"submit",className:"btn btn-primary",disabled:o,children:o?"":""}),l&&y.jsx("div",{className:"error",style:{marginTop:"0.5rem"},children:l})]})]}),y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"LINE "}),y.jsx("p",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"1rem"},children:" LINE "}),r.line_user_id?y.jsxs("div",{children:[y.jsx("p",{style:{marginBottom:"1rem"},children:" LINE"}),y.jsx("button",{type:"button",className:"btn btn-danger",disabled:v,onClick:p,children:v?"":""})]}):c?y.jsxs("div",{children:[y.jsx("p",{style:{marginBottom:"0.5rem"},children:" Bot "}),y.jsx("p",{style:{fontSize:"1.25rem",fontWeight:700,marginBottom:"1rem",letterSpacing:"0.1em"},children:c.code}),y.jsx("p",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"1rem"},children:" 5 "}),y.jsx("button",{type:"button",className:"btn btn-primary",onClick:g,children:""})]}):y.jsx("button",{type:"button",className:"btn btn-primary",disabled:h,onClick:f,children:h?"":" LINE"})]})]})}class wk extends E.Component{constructor(){super(...arguments);Tc(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("[ErrorBoundary]",r,n)}render(){return this.state.hasError&&this.state.error?y.jsx("div",{className:"app",style:{padding:"2rem",maxWidth:600},children:y.jsxs("div",{className:"card",style:{borderColor:"#c00"},children:[y.jsx("h2",{children:""}),y.jsx("p",{style:{color:"#666"},children:""}),y.jsxs("details",{style:{marginTop:"1rem",fontSize:"0.9rem"},children:[y.jsx("summary",{children:""}),y.jsx("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",marginTop:"0.5rem"},children:this.state.error.message})]}),y.jsx("button",{type:"button",className:"btn btn-primary",style:{marginTop:"1rem"},onClick:()=>this.setState({hasError:!1,error:null}),children:""})]})}):this.props.children}}function _k({children:t}){const{user:e,loading:r}=Ti();return r?y.jsx("div",{className:"app",children:""}):e?y.jsx(y.Fragment,{children:t}):y.jsx(xc,{to:"/login",replace:!0})}function Sk(){return y.jsx(wk,{children:y.jsx(IS,{children:y.jsxs(TS,{children:[y.jsx(Yt,{path:"/login",element:y.jsx(FS,{})}),y.jsxs(Yt,{path:"/",element:y.jsx(_k,{children:y.jsx(DS,{})}),children:[y.jsx(Yt,{index:!0,element:y.jsx(WS,{})}),y.jsx(Yt,{path:"projects/:projectId",element:y.jsx(hk,{})}),y.jsx(Yt,{path:"reports",element:y.jsx(yk,{})}),y.jsx(Yt,{path:"settings",element:y.jsx(vk,{})})]}),y.jsx(Yt,{path:"*",element:y.jsx(xc,{to:"/",replace:!0})})]})})})}const kk=new Mv({defaultOptions:{queries:{staleTime:60*1e3}}});Xa.createRoot(document.getElementById("root")).render(y.jsx(Xh.StrictMode,{children:y.jsx(Bv,{client:kk,children:y.jsx(j_,{children:y.jsx(Sk,{})})})}));
